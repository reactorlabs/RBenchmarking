library(prodlim)

function_to_run <- function() {
    cdat <- structure(list(eventtime = c(4.20759499111768, 5.43372275632054, 8.18108800817028, 2.58517892604418, 4.46235326518934,
        2.58143830570872, 16.9863210337899, 0.595491010255675, 16.0572034225101, 1.29455067952448, 9.19060078457263, 5.89288743599613,
        12.8259515490312, 2.80143736152228, 0.750618904075463, 1.2627816917473, 1.8949948933335, 16.8182780399343, 16.4201579065544,
        7.2501236748846), censtime = c(3.69882683846148, 11.5678971454676, 6.40601502930119, 3.58102187551108, 3.04397633011161,
        9.69944478873183, 3.80593717359634, 8.15063967652128, 5.47253329130713, 2.01511277928591, 7.50085241757985, 10.805750581573,
        5.4465893651155, 8.93004593888821, 8.64162155332517, 8.63521575496091, 5.47861358790415, 14.9436554156758, 6.65496379630547,
        9.2860865421708), time = c(3.69882683846148, 5.43372275632054, 6.40601502930119, 2.58517892604418, 3.04397633011161,
        2.58143830570872, 3.80593717359634, 0.595491010255675, 5.47253329130713, 1.29455067952448, 7.50085241757985, 5.89288743599613,
        5.4465893651155, 2.80143736152228, 0.750618904075463, 1.2627816917473, 1.8949948933335, 14.9436554156758, 6.65496379630547,
        7.2501236748846), event = c(0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 0, 0, 1), X1 = c(1, 1, 1, 1, 1, 1,
        0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0), X2 = c(-0.771408001996856, -0.507342353723463, -0.270022583786385, 0.74811656342622,
        0.668593810460555, -0.455298660081533, -1.92784522429471, 1.88197706699389, -1.24971112993433, -0.489344968902409,
        0.215391285188049, 0.422108673603984, -1.22114827886872, 0.31222782062225, 0.886462134092602, 0.474810692727149,
        0.869841354736154, -0.886523795971777, -0.128655531460981, 1.09651049495896), status = c(0, 1, 0, 1, 0, 1, 0, 1,
        0, 1, 0, 1, 0, 1, 1, 1, 1, 0, 0, 1), patnr = c(2L, 2L, 2L, 3L, 1L, 2L, 5L, 4L, 2L, 1L, 4L, 4L, 1L, 5L, 5L, 5L, 2L,
        5L, 3L, 1L)), class = "data.frame", row.names = c(NA, -20L))
    prodlim <- prodlim::prodlim
    x <- structure(list(time = c(0.595491010255675, 0.750618904075463, 1.2627816917473, 1.29455067952448, 1.8949948933335,
        2.58143830570872, 2.58517892604418, 2.80143736152228, 3.04397633011161, 3.69882683846148, 3.80593717359634, 5.43372275632054,
        5.4465893651155, 5.47253329130713, 5.89288743599613, 6.40601502930119, 6.65496379630547, 7.2501236748846, 7.50085241757985,
        14.9436554156758), n.risk = structure(c(20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 5,
        5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 4, 3, 2, 1), .Dim = c(20L, 2L), .Dimnames = list(NULL, c("n.risk", "cluster.n.risk"))),
        n.event = structure(c(1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0,
            1, 0, 0, 1, 0, 0, 1, 0, 0), .Dim = c(20L, 2L), .Dimnames = list(NULL, c("n.event", "cluster.n.event"))), n.lost = structure(c(0,
            0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 1, 1, 0, 1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0,
            1, 0), .Dim = c(20L, 2L), .Dimnames = list(NULL, c("n.lost", "cluster.n.lost"))), surv = c(0.95, 0.9, 0.85, 0.8,
            0.75, 0.7, 0.65, 0.6, 0.6, 0.6, 0.6, 0.533333333333333, 0.533333333333333, 0.533333333333333, 0.444444444444445,
            0.444444444444445, 0.444444444444445, 0.296296296296296, 0.296296296296296, 0.296296296296296), se.surv = c(0.0456840371464694,
            0.0540903767441492, 0.0836608478551085, 0.0791256131035067, 0.0503462822958706, 0.0394694555561721, 0.0267026581414496,
            0.0590171262066338, 0.0590171262066338, 0.0590171262066338, 0.0590171262066338, 0.0602539257104078, 0.0602539257104078,
            0.0602539257104078, 0.0582977327096618, 0.0582977327096618, 0.0582977327096618, 0.0449067017476186, 0.0449067017476186,
            0.0449067017476186), naive.se.surv = c(0.0487339717240448, 0.0670820393249937, 0.0798435971133565, 0.0894427190999916,
            0.0968245836551854, 0.102469507659596, 0.106653645038508, 0.109544511501033, 0.109544511501033, 0.109544511501033,
            0.109544511501033, 0.115896931648047, 0.115896931648047, 0.115896931648047, 0.126143602710566, 0.126143602710566,
            0.126143602710566, 0.147322803853593, 0.147322803853593, 0.147322803853593), hazard = c(0.05, 0.0526315789473684,
            0.0555555555555556, 0.0588235294117647, 0.0625, 0.0666666666666667, 0.0714285714285714, 0.0769230769230769, 0,
            0, 0, 0.111111111111111, 0, 0, 0.166666666666667, 0, 0, 0.333333333333333, 0, 0), first.strata = 1L, size.strata = 20L,
        model = "survival", maxtime = 14.9436554156758, lower = c(0.86046093252453, 0.793984809671265, 0.686027751287902,
            0.644916648062476, 0.651323099944607, 0.622641288620498, 0.597663751751274, 0.484328558163943, 0.484328558163943,
            0.484328558163943, 0.484328558163943, 0.415237809013782, 0.415237809013782, 0.415237809013782, 0.330182987953165,
            0.330182987953165, 0.330182987953165, 0.208280778206482, 0.208280778206482, 0.208280778206482), upper = c(1,
            1, 1, 0.955083351937524, 0.848676900055393, 0.777358711379502, 0.702336248248726, 0.715671441836057, 0.715671441836057,
            0.715671441836057, 0.715671441836057, 0.651428857652885, 0.651428857652885, 0.651428857652885, 0.558705900935724,
            0.558705900935724, 0.558705900935724, 0.384311814386111, 0.384311814386111, 0.384311814386111), call = prodlim(formula = Hist(time,
            status) ~ cluster(patnr), data = cdat), formula = Hist(time, status) ~ cluster(patnr), model.response = structure(c(0.595491010255675,
            0.750618904075463, 1.2627816917473, 1.29455067952448, 1.8949948933335, 2.58143830570872, 2.58517892604418, 2.80143736152228,
            3.04397633011161, 3.69882683846148, 3.80593717359634, 5.43372275632054, 5.4465893651155, 5.47253329130713, 5.89288743599613,
            6.40601502930119, 6.65496379630547, 7.2501236748846, 7.50085241757985, 14.9436554156758, 1, 1, 1, 1, 1, 1, 1,
            1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0), .Dim = c(20L, 2L), .Dimnames = list(c("8", "15", "16", "10", "17", "6",
            "4", "14", "5", "1", "7", "2", "13", "9", "12", "3", "19", "20", "11", "18"), c("time", "status")), class = "Hist",
            states = "1", model = "survival", cens.type = "rightCensored", cens.code = "0", entry.type = ""), originalDataOrder = c(10L,
            12L, 16L, 7L, 9L, 6L, 11L, 1L, 14L, 4L, 19L, 15L, 13L, 8L, 2L, 3L, 5L, 20L, 17L, 18L), X = NULL, model.matrix = NULL,
        discrete.predictors = NULL, continuous.predictors = NULL, xlevels = NULL, clustervar = "patnr", covariate.type = 1,
        cens.type = "rightCensored", conf.int = 0.95, reverse = FALSE, type = "surv", na.action = NULL), class = "prodlim")
    times <- c(0, 1.49436554156758, 2.98873108313515, 4.48309662470273, 5.97746216627031, 7.47182770783788, 8.96619324940546,
        10.460558790973, 11.9549243325406, 13.4492898741082, 14.9436554156758)
    show.censored <- FALSE
    newdata <- NULL
    prodlim:::lifeTab.survival(object = x, times = times, newdata = newdata, stats = NULL, intervals = show.censored)
}




