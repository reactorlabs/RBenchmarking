library(caret)

function_to_run <- function() {
    simulated <- structure(list(obs = structure(c(1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
        1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
        1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
        1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 
        2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
        2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
        2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
        2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L), .Label = c("a", "b"), class = "factor"), perfect = c(0.99268406117335, 0.991906094830483, 
        0.991838620044291, 0.985095223877579, 0.976170694921166, 0.960617997217923, 0.944675268605351, 0.943724818294868, 
        0.934705231105909, 0.928615199634805, 0.927302088588476, 0.924074469832703, 0.912875924259424, 0.908207789994776, 
        0.903081611497328, 0.898389684967697, 0.895445425994694, 0.895094102947041, 0.892198335845023, 0.886450943304226, 
        0.880619034869596, 0.877057543024421, 0.876269212691113, 0.875321330036968, 0.86969084572047, 0.864544949028641, 
        0.864339470630512, 0.8612094768323, 0.856131664710119, 0.840614554006606, 0.840507032116875, 0.839440350187942, 0.827373318606988, 
        0.820946294115856, 0.810870242770761, 0.79730882588774, 0.79423986072652, 0.789356231689453, 0.78293276228942, 0.782851336989552, 
        0.779984889784828, 0.778914677444845, 0.777445221319795, 0.777320698834956, 0.769841419998556, 0.766310670645908, 
        0.758103052387014, 0.757087148027495, 0.754820944508538, 0.746698269620538, 0.741078648716211, 0.7323137386702, 0.731792511884123, 
        0.729309623362496, 0.724498892668635, 0.723725946620107, 0.723710946040228, 0.717618508264422, 0.715566066093743, 
        0.712514678714797, 0.711743867723271, 0.711121222469956, 0.692731556482613, 0.687022846657783, 0.682788078673184, 
        0.668466738192365, 0.662005076417699, 0.660797792486846, 0.654723928077146, 0.651673766085878, 0.65087046707049, 
        0.647060193819925, 0.644315762910992, 0.642795492196456, 0.642288258532062, 0.640101045137271, 0.633493264438584, 
        0.630414122482762, 0.62911404389888, 0.614644971676171, 0.605303446529433, 0.604933290276676, 0.601541217649356, 
        0.599565825425088, 0.59876096714288, 0.598092422354966, 0.595711996313184, 0.59057315881364, 0.57487219828181, 0.572853363351896, 
        0.560900748008862, 0.557159538846463, 0.553036311641335, 0.547646587016061, 0.529719580197707, 0.529630602803081, 
        0.526027723914012, 0.518634263193235, 0.511169783771038, 0.507641822332516, 0.503339485730976, 0.500440972624347, 
        0.497699242085218, 0.495593577856198, 0.493541307048872, 0.484349524369463, 0.482080115471035, 0.478545248275623, 
        0.478118034312502, 0.477619622135535, 0.477230065036565, 0.476351245073602, 0.459065726259723, 0.455274453619495, 
        0.453895489219576, 0.453131445450708, 0.452570831403136, 0.446284348610789, 0.4462353233248, 0.438097107224166, 0.434659484773874, 
        0.431473690550774, 0.413124209502712, 0.411274429643527, 0.410084082046524, 0.406830187188461, 0.399994368897751, 
        0.39135928102769, 0.389989543473348, 0.388905099825934, 0.386114092543721, 0.384103718213737, 0.382387957070023, 
        0.380493885604665, 0.380035179434344, 0.37212389963679, 0.356726912083104, 0.353197271935642, 0.34668348915875, 0.34034899668768, 
        0.339072937844321, 0.337615333497524, 0.335487491684034, 0.333774930797517, 0.332394674187526, 0.328777319053188, 
        0.325352151878178, 0.317963684443384, 0.31627170718275, 0.293730155099183, 0.293603372760117, 0.284790480975062, 
        0.283232500310987, 0.277755932649598, 0.270260145887733, 0.267220668727532, 0.2655086631421, 0.258165926672518, 0.258016780717298, 
        0.245488513959572, 0.244797277031466, 0.239629415096715, 0.238868677755818, 0.228658142732456, 0.213208135217428, 
        0.212699519237503, 0.212142521282658, 0.207545113284141, 0.205974574899301, 0.202692255144939, 0.201681931037456, 
        0.19126010988839, 0.189193622441962, 0.186217601411045, 0.180866361130029, 0.176556752528995, 0.175126768415794, 
        0.173442334868014, 0.148211560677737, 0.14330437942408, 0.129372348077595, 0.125555095961317, 0.121691921027377, 
        0.110360604943708, 0.107943625887856, 0.104987640399486, 0.103184235747904, 0.100873126182705, 0.0994661601725966, 
        0.0842469143681228, 0.0770643802825361, 0.0752757457084954, 0.0706790471449494, 0.0638084805104882, 0.0617862704675645, 
        0.0589343772735447, 0.0355405795853585, 0.023331202333793, 0.0133903331588954, 0.0130775754805654), random = c(0.267508207354695, 
        0.218645284883678, 0.516796836396679, 0.268950592027977, 0.181168327340856, 0.518576137488708, 0.562782935798168, 
        0.129156854469329, 0.256367604015395, 0.717935275984928, 0.961409936426207, 0.100140846567228, 0.763222689507529, 
        0.947966354666278, 0.818634688388556, 0.308292330708355, 0.649579460499808, 0.953355451114476, 0.953732650028542, 
        0.339979203417897, 0.262474110117182, 0.165453933179379, 0.322168056620285, 0.510125206550583, 0.923968471353874, 
        0.510959698352963, 0.257621260825545, 0.0464608869515359, 0.41785625834018, 0.854001502273604, 0.347230677725747, 
        0.131442320533097, 0.374486864544451, 0.631420228397474, 0.390078933676705, 0.689627848798409, 0.689413412474096, 
        0.554900623159483, 0.429624407785013, 0.452720062807202, 0.306443258887157, 0.578353944001719, 0.910370304249227, 
        0.142604082124308, 0.415047625312582, 0.210925750667229, 0.428750370861962, 0.132689975202084, 0.460096445865929, 
        0.942957059247419, 0.761973861604929, 0.932909828843549, 0.470678497571498, 0.603588067693636, 0.484989680582657, 
        0.10880631650798, 0.247726832982153, 0.498514530714601, 0.372866708086804, 0.934691370232031, 0.523986077867448, 
        0.317144671687856, 0.277966029476374, 0.787540507735685, 0.702462512534112, 0.165027638664469, 0.0644575387705117, 
        0.754705621628091, 0.620410033036023, 0.169576766667888, 0.0622140523046255, 0.109029268613085, 0.381716351723298, 
        0.169310914585367, 0.298652542056516, 0.192209535045549, 0.257170021301135, 0.181231822818518, 0.477313709678128, 
        0.770737042883411, 0.0277871224097908, 0.527310776989907, 0.880319068906829, 0.373063371982425, 0.0479591316543519, 
        0.138628246728331, 0.321492120390758, 0.154831611318514, 0.132228172151372, 0.221305927727371, 0.226380796171725, 
        0.13141653384082, 0.981563460314646, 0.327013726811856, 0.506939497077838, 0.68144251476042, 0.0991691031958908, 
        0.118902558228001, 0.0504396595060825, 0.929253919748589, 0.673712232848629, 0.0948578554671258, 0.492596120806411, 
        0.461551840649918, 0.375216530868784, 0.991099219536409, 0.176350713707507, 0.813435208518058, 0.0684466371312737, 
        0.40044974675402, 0.141144325723872, 0.193309862399474, 0.841351716779172, 0.719913988374174, 0.267212083097547, 
        0.495001644827425, 0.0831138978246599, 0.353884240612388, 0.969208805356175, 0.624714189674705, 0.664618249749765, 
        0.312489656498656, 0.405689612729475, 0.996077371528372, 0.855082356370986, 0.953548396006227, 0.812305092345923, 
        0.782182115828618, 0.267878128914163, 0.762151529546827, 0.986311589134857, 0.293605549028143, 0.399351106956601, 
        0.812131523853168, 0.0771516691893339, 0.363696809858084, 0.442592467181385, 0.156714132521302, 0.582205270184204, 
        0.970162178855389, 0.98949983343482, 0.176452036481351, 0.542130424408242, 0.384303892031312, 0.676164050819352, 
        0.26929377974011, 0.469250942347571, 0.171800082316622, 0.36918946239166, 0.725405272562057, 0.486149104312062, 0.0638024667277932, 
        0.784546229988337, 0.418321635806933, 0.981018084799871, 0.282883955864236, 0.847882149508223, 0.0822392308618873, 
        0.886458750581369, 0.471930730855092, 0.109100963454694, 0.333277984522283, 0.837416569236666, 0.276849841699004, 
        0.587035141419619, 0.836732269730419, 0.0711540239863098, 0.702778743347153, 0.69882453721948, 0.46396238100715, 
        0.436931110452861, 0.562176787760109, 0.928483226336539, 0.230466414242983, 0.221813754411414, 0.420215893303975, 
        0.333520805696025, 0.864807550329715, 0.177194535732269, 0.49331872863695, 0.429713366786018, 0.564263842999935, 
        0.656162315513939, 0.97855406277813, 0.232161148451269, 0.240811596158892, 0.796836083987728, 0.831671715015545, 
        0.113507706439123, 0.963312016334385, 0.147322899661958, 0.143626942764968, 0.925229935208336, 0.507035602582619, 
        0.15485101705417, 0.348302052123472, 0.659821025794372, 0.311772374436259, 0.351573409279808, 0.147845706902444)), 
        class = "data.frame", row.names = c(NA, -200L))
    caret:::lift.formula(x = obs ~ random, data = simulated)
}




