library(ddalpha)

function_to_run <- function() {
    x <- structure(c(1.33491258537547, -0.869271763875442, 0.0554869546651026, 0.0490669131919192, -0.578355728360897, -0.998738655996004, 
        -0.00243278000660164, 0.655511882812969, 1.47684227897655, -1.90915278827921, -0.702439473312409, -0.311430218011919, 
        -1.66315703066738, -0.75053344179229, -0.777351759181508, -0.722569699859602, -2.18883459914707, 0.213418550286554, 
        -0.631922936254832, 1.52049119383216, 0.795955949415082, -1.4535295651328, 0.0983954210058388, -0.593770984233154, 
        0.888281168634515, 0.0530704154986665, -0.557023625844656, 0.43839703617272, 0.152608158642419, -0.164617581749564, 
        2.01989062147597, -0.529385886317261, -0.470786972984042, -1.54593692401752, -0.0405267232951771, 0.890356305470676, 
        -2.07138785092921, -0.250065120073019, -1.18165042665332, 1.44193726501691, 1.35789553887886, 0.33450284734065, 1.42933808040023, 
        -0.867317850878684, 0.950651724971886, -0.585011508633235, 0.320957522525629, -0.299396016664908, -0.278543083293069, 
        0.546115158329532, -1.30382115364487, -0.25091446504246, 0.17100737371791, -0.403467478747509, 0.104659440835727, 
        -0.318880786734009, 1.61834393588343, 0.714188601488617, 2.96586536983324, -0.795077604559211, 0.814365914679913, 
        2.09803081013037, 0.30098005515257, -1.08307514183923, -1.00632250180328, -0.035414564917612, 1.30912436085341, 0.750400486646719, 
        -2.13836832761242, -0.700354108866634, -0.00905647529298544, -1.45813348724477, 0.694529646494869, -2.46133547518649, 
        0.143289764040456, -0.391222119127056, -0.491164085614075, -0.283647452452051, 0.314794804707843, 0.396326577938989, 
        -0.22560371103596, -1.92495043034056, -1.43922929832198, -1.4696577739724, 0.761863446891932, -0.24361498187128, 
        0.269676607418008, -1.55892752095582, -0.535588006696314, 0.562451973173495, -0.178326123419918, -0.115135986202651, 
        -0.0720614721063666, 1.2109098069263, -0.614896900799703, 0.676126458314701, 0.898599605537552, -1.18931790352102, 
        0.121258849819009, -0.0112216861304115, 1.69842152211189, 1.47750115677663, -1.41875127425087, 2.61414817514681, 
        -0.942959997695045, 0.149219064593065, -0.597159994930748, -0.173029272537401, 0.266145141736166, 0.168519042904737, 
        -0.0354862257512179, 0.15283791757828, -0.68650909418814, -0.71307070459968, -2.349148847261, -0.540701541897604, 
        -0.72499694744485, 3.82105089674142, -1.92632324767703, 0.194109605805628, -2.11230482729913, -2.07951016813806, 
        0.176355805820094, -1.40946058134479, -0.00257756586869354, -0.605649518319119, -0.867862708684161, -2.86332686842804, 
        -1.73205516188774, 0.253874585697939, 0.802736742916042, -0.697033837981883, 8.89314980767157e-05, 1.58800576271624, 
        2.03626351957772, -1.55155317074577, -0.165914913237448, 1.69917533375023, -0.664297943484688, -0.0742030572114595, 
        -0.121774108986197, -1.2553677061573, -0.62887815067838, -0.0416413473490223, -0.585298939381459, 1.57456561440396, 
        -0.680226600071436, -0.612593520703984, 0.985512506870243, -1.49393053676884, -0.0575563355267526, -2.19421573039372, 
        1.65062700611799, -0.386993462168323, -0.661633203244345, -1.75115323587816, -0.0109771734394934, -1.13176990978472, 
        -0.754472088437929, 1.82104779623783, -0.248231066243757, -1.51572918357846, 0.230809386658004, -0.512989586974775, 
        0.834405161547563, 2.02575051723778, -1.40387921247725, 0.642972616974999, 0.120063986002264, 1.26652099243308, -0.32495536043466, 
        1.18315803315694, -2.46788166620102, 2.38925571959359, 1.22298074566256, -0.21322944836244, -2.04920553541813, 0.909351624323264, 
        0.683339315462303, -0.0089882130825047, 0.214190977787367, -0.826054827772477, 0.521571483180196, 0.416704163443428, 
        -0.394932393200881, -1.88972399988996, 0.991008482854818, 0.783752379441297, -1.18271612584179, -2.25508820510882, 
        0.289855204391771, -0.488028098661169, 0.357246896912181, -1.82999583643248, -1.35647185107014, 1.53551752375778, 
        0.571023946394867, 0.82941862859122, 2.56712068735636, 0.182181011453768, 2.37456968552376, -0.978085923799264, 0.628956858108042, 
        1.09615018600291, 0.700213275570883, -0.183813053799111, 2.61803289632224, -0.163954263927099, 3.4960124236369, -0.1086240059097, 
        2.26010053836991, 3.9605859990516, -2.4055772989623, -0.482876308707159, -0.230919328366797, 1.10149840055102, -0.492340502092521, 
        -4.60111575704884, -4.22701271448437, 2.28650338655443, -0.531113624505407, -3.08531671160431, -0.297769594878558, 
        2.10387829363538, 3.28257136508324, -0.745594407031991, -0.445603642187671, -3.05388804558725, 0.796911994995808, 
        -1.10850364174667, 0.788862753767299, 1.22081407915187, 1.79285189114539, -1.05469142027405, 0.874607929094291, -2.97394626919175, 
        -1.35872285896839, -1.47381518565993, -4.18153030972903, 0.0625661904392245, 0.356800041834908, -0.625369585529855, 
        1.31317724466238, -1.25868968260218, -2.36993228796763, 0.74966281127092, -1.40537420607, 2.50125675657553, -0.74728674365897, 
        1.13561544592762, 0.557590915573321, -1.35764887055579, 2.7292401231642, 1.11353426165315, 0.155470000430752, 0.478999945179955, 
        1.17656274242104, 0.155595123745542, -5.18418409565144, 0.493431749725386, -0.636069059526774, 0.320828749461918, 
        1.00774825684616, 2.42441530209618, -1.25970679895118, 2.25607001772495, 0.58170600703707, 1.79874532691442, 1.59474866025955, 
        1.24859760415232, -1.80673499993684, -0.156207403760793, 1.07996513602517, -1.65155090186538, -0.940207086654305, 
        1.00631545300425, 1.33052460322364, 0.803269026255267, -1.53420955125381, -1.90487639365184, 2.62008539794773, 0.44673303416668, 
        0.153182970337438, -0.209398945476861, -2.06863832736564, 1.0600097214805, -0.376097245180643, -0.316543900790833, 
        1.61660326214312, 1.4233527796942, 2.41121629316681, -0.824757427970089, 1.12643674980725, 2.40947398940781, -1.92394277568626, 
        -1.49093649525107, -1.96022889612971, -2.52743278625394, 0.138533845932774, 1.13138310399687, -2.82974126534876, 
        0.472032239421437, 1.6565038810592, 2.91262832869928, -1.94717634574244, -1.62755554924241, -0.998182189082858, -1.49065998251134, 
        -0.913219531085408, -0.262164036053272, -1.69878451557811, 2.88071366472409, 0.152416505898441, -0.118946816440432, 
        0.700912018935709, 0.0529130636467402, -0.186800693290286, 2.0884928031294, -0.306927066556935, -1.81528764571922, 
        0.545416761236881, -0.497114273093581, -0.737931112017734, -1.51056563040565, 0.605800870057958, -0.246098947226877, 
        0.729264295532172, -0.331442553715366, -0.931264475666294, 1.7681015616634, -0.384331931671435, 1.34060656904535, 
        -1.69929416896928, -0.65918770513464, -0.380920396069742, -0.552908582597395, 1.90735974802637, -0.0321941493195875, 
        0.345387510912612, -1.33271485005786, -1.03126896235661, 1.41148258666118, 1.77976183806891, 1.76615996627053, -1.9525156401535, 
        2.89908221527235, 1.43807534711122, -0.0377842001365412, 0.995051663367709, -1.37374616535546, -1.55019902329245, 
        0.0693678129564659, -1.69492909479197, 0.268727444871749, 1.8352332831925, -1.46211824079791, -1.04431292961713, 
        0.0658513546889306, -1.43909823367632, -0.54204537431124, 1.23426253982021, 1.37114370808775, 0.542841159552999, 
        -2.61849513019872, -0.0763629175434543, 1.5058167205688, 1.15003145076199, -0.26985524560249, -3.81827735272618, 
        0.0862198474448408, 0.811407432015861, 0.0647760436524722, 0.222614949204323, 0.610325603361618, -0.560806014877681, 
        1.85258897327129, 0.665236725752521, -1.75740115020445, 1.95384274786222, 1.70336216404077, 1.16541657583747, -2.35131304977114, 
        -0.805120752271908, 0.898752259486345, 0.0618322560907859, 0.492163719710524, 3.47839055473791, -1.15736455394531, 
        -2.98851626254117, 0.387063566228492, -0.972408778331333, 0.630797306473846, -1.14888549424938, 3.12831886101168, 
        -0.174946662751342, -0.675054346429924, -0.23512925616074, 1.21984883553093, 0.137660234341804, -2.29896923981333, 
        -0.0046207678264578, 0.760242167662055, 0.0389909128725626, 0.735072141614441, -0.14647262699887, -0.0578873353812826, 
        0.482369466104533, 0.992943636775734, -1.24639549803204, -0.0334875248456097, -0.0709621812499963, -0.75892065373095, 
        -1.03435936093915, -0.630731953970819, 0.586807720012995, -0.416322656183652, -0.784887809505321, 0.163416319486097, 
        -1.23671423510935, 1.04587377623667, -0.484595416218709, 0.189128811680665, 0.0510063315749732, -0.000240668886441977, 
        1.80938204244287, -0.825327957109945, 1.14547045222799, 0.0315731875532431, -0.83520580530672, -0.0687636490165125, 
        0.746771687012467, -0.425518734394604, -0.772082235193457, 0.152764106747895, 0.988596845178799, -0.073458334672174, 
        -1.38702655355974, -1.30667590437536, -0.768395325077939, -0.527108125374458, -0.0214270650416246, 0.670498070996282, 
        -0.434617038572407, -1.11387978331285, 0.6071059948785, 0.275456968739591, 1.15734706941474, -1.68248085947826, 0.0873190888948744, 
        1.35336189394267, 0.724173800683369, -0.832552825764212, 0.732528486768414, -0.871926869997213, -0.453397511229793, 
        1.18753427862908, -0.290145311790079, 0.828546144965436, -0.291227708779169, -1.57636240474791, -0.848815696948922, 
        -1.0885198619572, -0.484290571117173, -0.336311209009573, -0.153357890661644, -0.243247228574846, 1.89220204160011, 
        -1.38599833728542, -0.41482430070778, 0.349081528106831, 1.62844226581541, 0.0885218957136163, 1.23915070840056, 
        -1.64455553575371, 1.44635652537848, -0.690560171665183, -0.276431085453852, -1.10941875989944, 0.133869316429452, 
        1.78533905173155, 2.42216335525159, -1.07682890211841, 0.485941110403099, 1.38852173874429, -0.195656817284544, -0.218174797706211, 
        -0.304777954546445, 0.597832724111443, 1.39742941081576, 0.687619761239963, 0.320188014296969, -0.301869925777261, 
        0.498348685557949, -0.549536917916756, -0.279256503637243, 1.09651344311173, 0.442013088178811, 0.241016294026112, 
        -0.255607655355518, 0.931032901484882), .Dim = c(100L, 5L), .Dimnames = list(NULL, NULL))
    PSTAR <- c(1.15058859549996, 0.650588595499958, 0.630432345499958, -0.0440364045000419, 0.650588595499958)
    ddalpha:::.zdepth.sub(x = x, theta = PSTAR, zloc = genthat::with_env(function(x, na.rm = FALSE, ...) UseMethod("median"), 
        env = getNamespace("stats")), zscale = genthat::with_env(function(x, center = median(x), constant = 1.4826, na.rm = FALSE, 
        low = FALSE, high = FALSE) {
        if (na.rm) 
            x <- x[!is.na(x)]
        n <- length(x)
        constant * if ((low || high) && n%%2 == 0) {
            if (low && high) 
                stop("'low' and 'high' cannot be both TRUE")
            n2 <- n%/%2 + as.integer(high)
            sort(abs(x - center), partial = n2)[n2]
        }
        else median(abs(x - center))
    }, env = getNamespace("stats")), pts = c(2.60723456226119, 2.23890214863198, 1.22424123925025, 0.912068668222949, 1.13600955241373))
}




