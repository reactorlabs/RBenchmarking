library(dygraphs)

function_to_run <- function() {
    . <- structure(list(x = structure(list(attrs = list(labels = c("month", "fdeaths", "ldeaths", "bar", "mdeaths", "foo"), 
        legend = "auto", retainDateWindow = FALSE, axes = list(x = list(pixelsPerLabel = 60)), showRangeSelector = TRUE, 
        rangeSelectorHeight = 40, rangeSelectorPlotFillColor = " #A7B1C4", rangeSelectorPlotStrokeColor = "#808FAB", interactionModel = structure("Dygraph.Interaction.defaultModel", 
            class = "JS_EVAL"), series = list(bar = list(axis = "y", plotter = structure("/**\n * Bar Chart plotter is adapted from http://dygraphs.com/tests/plotters.html\n */\nfunction barSeriesPlotter(e) {\n  var g = e.dygraph;\n  var ctx = e.drawingContext;\n  var points = e.points;\n  var axis = g.attr_(\"axis\", e.setName);\n  var y_bottom = g.toDomYCoord(0, axis == \"y2\" ? 1 : 0);\n\n  ctx.fillStyle = e.color;\n  ctx.strokeStyle = e.color;\n\n  // Find the minimum separation between x-values.\n  // This determines the bar width.\n  var min_sep = Infinity;\n  for (var i = 1; i < points.length; i++) {\n    var sep = points[i].canvasx - points[i - 1].canvasx;\n    if (sep < min_sep) min_sep = sep;\n  }\n  var bar_width = Math.floor(2.0 / 3 * min_sep);\n\n  // Do the actual plotting.\n  for (var i = 0; i < points.length; i++) {\n    var p = points[i];\n    var center_x = p.canvasx;\n\n    ctx.fillRect(center_x - bar_width / 2, p.canvasy,\n      bar_width, y_bottom - p.canvasy);\n\n    ctx.strokeRect(center_x - bar_width / 2, p.canvasy,\n      bar_width, y_bottom - p.canvasy);\n  }\n}\n", 
            class = "JS_EVAL")), mdeaths = list(axis = "y", plotter = structure("/**\n * stem plotter extracted from series.R\n */\nfunction stemPlotter(e) { \n   var ctx = e.drawingContext; \n   var points = e.points; \n   var y_bottom = e.dygraph.toDomYCoord(0);\n   ctx.fillStyle = e.color; \n   for (var i = 0; i < points.length; i++) { \n      var p = points[i]; \n      var center_x = p.canvasx;\n      var center_y = p.canvasy; \n      ctx.beginPath(); \n      ctx.moveTo(center_x, y_bottom); \n      ctx.lineTo(center_x, center_y); \n      ctx.stroke();\n      ctx.beginPath(); \n      ctx.arc(center_x, center_y, 3, 0, 2*Math.PI); \n      ctx.stroke();\n   }\n}", 
            class = "JS_EVAL")), foo = list(axis = "y", plotter = structure("// the _fillplotter combined with the _lineplotter function extracted from dygraphs-combined-dev.js, available for use in conjunction with other per-series plotters and group plotters\n\nfunction filledlineplotter(e) {\n  var g = e.dygraph;\n  var setName = e.setName;\n\n  var area = e.plotArea;\n  var sets = e.allSeriesPoints;\n  var setCount = sets.length;\n\n  var fillAlpha = g.getNumericOption('fillAlpha');\n  var stackedGraph = g.getBooleanOption(\"stackedGraph\");\n  var colors = g.getColors();\n\n  // For stacked graphs, track the baseline for filling.\n  //\n  // The filled areas below graph lines are trapezoids with two\n  // vertical edges. The top edge is the line segment being drawn, and\n  // the baseline is the bottom edge. Each baseline corresponds to the\n  // top line segment from the previous stacked line. In the case of\n  // step plots, the trapezoids are rectangles.\n  var baseline = {};\n  var currBaseline;\n  var prevStepPlot;  // for different line drawing modes (line/step) per series\n\n  // Helper function to trace a line back along the baseline.\n  var traceBackPath = function(ctx, baselineX, baselineY, pathBack) {\n    ctx.lineTo(baselineX, baselineY);\n    if (stackedGraph) {\n      for (var i = pathBack.length - 1; i >= 0; i--) {\n        var pt = pathBack[i];\n        ctx.lineTo(pt[0], pt[1]);\n      }\n    }\n  };\n\n  var ctx = e.drawingContext;\n\n  var stepPlot = g.getBooleanOption('stepPlot', setName);\n  var color = e.color\n  var axis = g.axisPropertiesForSeries(setName);\n  var axisY = 1.0 + axis.minyval * axis.yscale;\n  if (axisY < 0.0) axisY = 0.0;\n  else if (axisY > 1.0) axisY = 1.0;\n  axisY = area.h * axisY + area.y;\n\n  var points = e.points;\n  var iter = Dygraph.createIterator(points, 0, points.length,\n      DygraphCanvasRenderer._getIteratorPredicate(\n          g.getBooleanOption(\"connectSeparatedPoints\", setName)));\n\n  // setup graphics context\n  var prevX = NaN;\n  var prevYs = [-1, -1];\n  var newYs;\n  // should be same color as the lines but only 15% opaque.\n  var rgb = Dygraph.toRGB_(color);\n  var err_color =\n      'rgba(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ',' + fillAlpha + ')';\n  ctx.fillStyle = err_color;\n  ctx.beginPath();\n  var last_x, is_first = true;\n\n  // If the point density is high enough, dropping segments on their way to\n  // the canvas justifies the overhead of doing so.\n  if (points.length > 2 * g.width_ || Dygraph.FORCE_FAST_PROXY) {\n    ctx = DygraphCanvasRenderer._fastCanvasProxy(ctx);\n  }\n\n  // For filled charts, we draw points from left to right, then back along\n  // the x-axis to complete a shape for filling.\n  // For stacked plots, this \"back path\" is a more complex shape. This array\n  // stores the [x, y] values needed to trace that shape.\n  var pathBack = [];\n\n  // TODO(danvk): there are a lot of options at play in this loop.\n  //     The logic would be much clearer if some (e.g. stackGraph and\n  //     stepPlot) were split off into separate sub-plotters.\n  var point;\n  while (iter.hasNext) {\n    point = iter.next();\n    if (!Dygraph.isOK(point.y) && !stepPlot) {\n      traceBackPath(ctx, prevX, prevYs[1], pathBack);\n      pathBack = [];\n      prevX = NaN;\n      if (point.y_stacked !== null && !isNaN(point.y_stacked)) {\n        baseline[point.canvasx] = area.h * point.y_stacked + area.y;\n      }\n      continue;\n    }\n    \n      if (isNaN(point.canvasy) && stepPlot) {\n        newYs = [ area.y + area.h, axisY ];\n      } else {\n        newYs = [ point.canvasy, axisY ];\n      }\n      \n      if (!isNaN(prevX)) {\n        // Move to top fill point\n        if (stepPlot) {\n          ctx.lineTo(point.canvasx, prevYs[0]);\n          ctx.lineTo(point.canvasx, newYs[0]);\n        } else {\n          ctx.lineTo(point.canvasx, newYs[0]);\n        }\n\n      } else {\n        ctx.moveTo(point.canvasx, newYs[1]);\n        ctx.lineTo(point.canvasx, newYs[0]);\n      }\n      \n      prevYs = newYs;\n      prevX = point.canvasx;\n      \n    }\n    \n    prevStepPlot = stepPlot;\n    \n    if (newYs && point) {\n      traceBackPath(ctx, point.canvasx, newYs[1], pathBack);\n      pathBack = [];\n    }\n    \n    ctx.fill();\n    \n}", 
            class = "JS_EVAL")))), scale = "monthly", annotations = list(), shadings = list(), events = list(), format = "date", 
        data = list(c("1974-01-01T00:00:00.000Z", "1974-02-01T00:00:00.000Z", "1974-03-01T00:00:00.000Z", "1974-04-01T00:00:00.000Z", 
            "1974-05-01T00:00:00.000Z", "1974-06-01T00:00:00.000Z", "1974-07-01T00:00:00.000Z", "1974-08-01T00:00:00.000Z", 
            "1974-09-01T00:00:00.000Z", "1974-10-01T00:00:00.000Z", "1974-11-01T00:00:00.000Z", "1974-12-01T00:00:00.000Z", 
            "1975-01-01T00:00:00.000Z", "1975-02-01T00:00:00.000Z", "1975-03-01T00:00:00.000Z", "1975-04-01T00:00:00.000Z", 
            "1975-05-01T00:00:00.000Z", "1975-06-01T00:00:00.000Z", "1975-07-01T00:00:00.000Z", "1975-08-01T00:00:00.000Z", 
            "1975-09-01T00:00:00.000Z", "1975-10-01T00:00:00.000Z", "1975-11-01T00:00:00.000Z", "1975-12-01T00:00:00.000Z", 
            "1976-01-01T00:00:00.000Z", "1976-02-01T00:00:00.000Z", "1976-03-01T00:00:00.000Z", "1976-04-01T00:00:00.000Z", 
            "1976-05-01T00:00:00.000Z", "1976-06-01T00:00:00.000Z", "1976-07-01T00:00:00.000Z", "1976-08-01T00:00:00.000Z", 
            "1976-09-01T00:00:00.000Z", "1976-10-01T00:00:00.000Z", "1976-11-01T00:00:00.000Z", "1976-12-01T00:00:00.000Z", 
            "1977-01-01T00:00:00.000Z", "1977-02-01T00:00:00.000Z", "1977-03-01T00:00:00.000Z", "1977-04-01T00:00:00.000Z", 
            "1977-05-01T00:00:00.000Z", "1977-06-01T00:00:00.000Z", "1977-07-01T00:00:00.000Z", "1977-08-01T00:00:00.000Z", 
            "1977-09-01T00:00:00.000Z", "1977-10-01T00:00:00.000Z", "1977-11-01T00:00:00.000Z", "1977-12-01T00:00:00.000Z", 
            "1978-01-01T00:00:00.000Z", "1978-02-01T00:00:00.000Z", "1978-03-01T00:00:00.000Z", "1978-04-01T00:00:00.000Z", 
            "1978-05-01T00:00:00.000Z", "1978-06-01T00:00:00.000Z", "1978-07-01T00:00:00.000Z", "1978-08-01T00:00:00.000Z", 
            "1978-09-01T00:00:00.000Z", "1978-10-01T00:00:00.000Z", "1978-11-01T00:00:00.000Z", "1978-12-01T00:00:00.000Z", 
            "1979-01-01T00:00:00.000Z", "1979-02-01T00:00:00.000Z", "1979-03-01T00:00:00.000Z", "1979-04-01T00:00:00.000Z", 
            "1979-05-01T00:00:00.000Z", "1979-06-01T00:00:00.000Z", "1979-07-01T00:00:00.000Z", "1979-08-01T00:00:00.000Z", 
            "1979-09-01T00:00:00.000Z", "1979-10-01T00:00:00.000Z", "1979-11-01T00:00:00.000Z", "1979-12-01T00:00:00.000Z"), 
            c(901, 689, 827, 677, 522, 406, 441, 393, 387, 582, 578, 666, 830, 752, 785, 664, 467, 438, 421, 412, 343, 440, 
                531, 771, 767, 1141, 896, 532, 447, 420, 376, 330, 357, 445, 546, 764, 862, 660, 663, 643, 502, 392, 411, 
                348, 387, 385, 411, 638, 796, 853, 737, 546, 530, 446, 431, 362, 387, 430, 425, 679, 821, 785, 727, 612, 
                478, 429, 405, 379, 393, 411, 487, 574), c(3035, 2552, 2704, 2554, 2014, 1655, 1721, 1524, 1596, 2074, 2199, 
                2512, 2933, 2889, 2938, 2497, 1870, 1726, 1607, 1545, 1396, 1787, 2076, 2837, 2787, 3891, 3179, 2011, 1636, 
                1580, 1489, 1300, 1356, 1653, 2013, 2823, 3102, 2294, 2385, 2444, 1748, 1554, 1498, 1361, 1346, 1564, 1640, 
                2293, 2815, 3137, 2679, 1969, 1870, 1633, 1529, 1366, 1357, 1570, 1535, 2491, 3084, 2605, 2573, 2143, 1693, 
                1504, 1461, 1354, 1333, 1492, 1781, 1915), c(300.333333333333, 229.666666666667, 275.666666666667, 225.666666666667, 
                174, 135.333333333333, 147, 131, 129, 194, 192.666666666667, 222, 276.666666666667, 250.666666666667, 261.666666666667, 
                221.333333333333, 155.666666666667, 146, 140.333333333333, 137.333333333333, 114.333333333333, 146.666666666667, 
                177, 257, 255.666666666667, 380.333333333333, 298.666666666667, 177.333333333333, 149, 140, 125.333333333333, 
                110, 119, 148.333333333333, 182, 254.666666666667, 287.333333333333, 220, 221, 214.333333333333, 167.333333333333, 
                130.666666666667, 137, 116, 129, 128.333333333333, 137, 212.666666666667, 265.333333333333, 284.333333333333, 
                245.666666666667, 182, 176.666666666667, 148.666666666667, 143.666666666667, 120.666666666667, 129, 143.333333333333, 
                141.666666666667, 226.333333333333, 273.666666666667, 261.666666666667, 242.333333333333, 204, 159.333333333333, 
                143, 135, 126.333333333333, 131, 137, 162.333333333333, 191.333333333333), c(2134, 1863, 1877, 1877, 1492, 
                1249, 1280, 1131, 1209, 1492, 1621, 1846, 2103, 2137, 2153, 1833, 1403, 1288, 1186, 1133, 1053, 1347, 1545, 
                2066, 2020, 2750, 2283, 1479, 1189, 1160, 1113, 970, 999, 1208, 1467, 2059, 2240, 1634, 1722, 1801, 1246, 
                1162, 1087, 1013, 959, 1179, 1229, 1655, 2019, 2284, 1942, 1423, 1340, 1187, 1098, 1004, 970, 1140, 1110, 
                1812, 2263, 1820, 1846, 1531, 1215, 1075, 1056, 975, 940, 1081, 1294, 1341), c(450.5, 344.5, 413.5, 338.5, 
                261, 203, 220.5, 196.5, 193.5, 291, 289, 333, 415, 376, 392.5, 332, 233.5, 219, 210.5, 206, 171.5, 220, 265.5, 
                385.5, 383.5, 570.5, 448, 266, 223.5, 210, 188, 165, 178.5, 222.5, 273, 382, 431, 330, 331.5, 321.5, 251, 
                196, 205.5, 174, 193.5, 192.5, 205.5, 319, 398, 426.5, 368.5, 273, 265, 223, 215.5, 181, 193.5, 215, 212.5, 
                339.5, 410.5, 392.5, 363.5, 306, 239, 214.5, 202.5, 189.5, 196.5, 205.5, 243.5, 287))), time = structure(c(1974, 
        1974.08333333333, 1974.16666666667, 1974.25, 1974.33333333333, 1974.41666666667, 1974.5, 1974.58333333333, 1974.66666666667, 
        1974.75, 1974.83333333333, 1974.91666666667, 1975, 1975.08333333333, 1975.16666666667, 1975.25, 1975.33333333333, 
        1975.41666666667, 1975.5, 1975.58333333333, 1975.66666666667, 1975.75, 1975.83333333333, 1975.91666666667, 1976, 
        1976.08333333333, 1976.16666666667, 1976.25, 1976.33333333333, 1976.41666666667, 1976.5, 1976.58333333333, 1976.66666666667, 
        1976.75, 1976.83333333333, 1976.91666666667, 1977, 1977.08333333333, 1977.16666666667, 1977.25, 1977.33333333333, 
        1977.41666666667, 1977.5, 1977.58333333333, 1977.66666666667, 1977.75, 1977.83333333333, 1977.91666666667, 1978, 
        1978.08333333333, 1978.16666666667, 1978.25, 1978.33333333333, 1978.41666666667, 1978.5, 1978.58333333333, 1978.66666666667, 
        1978.75, 1978.83333333333, 1978.91666666667, 1979, 1979.08333333333, 1979.16666666667, 1979.25, 1979.33333333333, 
        1979.41666666667, 1979.5, 1979.58333333333, 1979.66666666667, 1979.75, 1979.83333333333, 1979.91666666667), class = "yearmon"), 
        data = list(month = c("1974-01-01T00:00:00.000Z", "1974-02-01T00:00:00.000Z", "1974-03-01T00:00:00.000Z", "1974-04-01T00:00:00.000Z", 
            "1974-05-01T00:00:00.000Z", "1974-06-01T00:00:00.000Z", "1974-07-01T00:00:00.000Z", "1974-08-01T00:00:00.000Z", 
            "1974-09-01T00:00:00.000Z", "1974-10-01T00:00:00.000Z", "1974-11-01T00:00:00.000Z", "1974-12-01T00:00:00.000Z", 
            "1975-01-01T00:00:00.000Z", "1975-02-01T00:00:00.000Z", "1975-03-01T00:00:00.000Z", "1975-04-01T00:00:00.000Z", 
            "1975-05-01T00:00:00.000Z", "1975-06-01T00:00:00.000Z", "1975-07-01T00:00:00.000Z", "1975-08-01T00:00:00.000Z", 
            "1975-09-01T00:00:00.000Z", "1975-10-01T00:00:00.000Z", "1975-11-01T00:00:00.000Z", "1975-12-01T00:00:00.000Z", 
            "1976-01-01T00:00:00.000Z", "1976-02-01T00:00:00.000Z", "1976-03-01T00:00:00.000Z", "1976-04-01T00:00:00.000Z", 
            "1976-05-01T00:00:00.000Z", "1976-06-01T00:00:00.000Z", "1976-07-01T00:00:00.000Z", "1976-08-01T00:00:00.000Z", 
            "1976-09-01T00:00:00.000Z", "1976-10-01T00:00:00.000Z", "1976-11-01T00:00:00.000Z", "1976-12-01T00:00:00.000Z", 
            "1977-01-01T00:00:00.000Z", "1977-02-01T00:00:00.000Z", "1977-03-01T00:00:00.000Z", "1977-04-01T00:00:00.000Z", 
            "1977-05-01T00:00:00.000Z", "1977-06-01T00:00:00.000Z", "1977-07-01T00:00:00.000Z", "1977-08-01T00:00:00.000Z", 
            "1977-09-01T00:00:00.000Z", "1977-10-01T00:00:00.000Z", "1977-11-01T00:00:00.000Z", "1977-12-01T00:00:00.000Z", 
            "1978-01-01T00:00:00.000Z", "1978-02-01T00:00:00.000Z", "1978-03-01T00:00:00.000Z", "1978-04-01T00:00:00.000Z", 
            "1978-05-01T00:00:00.000Z", "1978-06-01T00:00:00.000Z", "1978-07-01T00:00:00.000Z", "1978-08-01T00:00:00.000Z", 
            "1978-09-01T00:00:00.000Z", "1978-10-01T00:00:00.000Z", "1978-11-01T00:00:00.000Z", "1978-12-01T00:00:00.000Z", 
            "1979-01-01T00:00:00.000Z", "1979-02-01T00:00:00.000Z", "1979-03-01T00:00:00.000Z", "1979-04-01T00:00:00.000Z", 
            "1979-05-01T00:00:00.000Z", "1979-06-01T00:00:00.000Z", "1979-07-01T00:00:00.000Z", "1979-08-01T00:00:00.000Z", 
            "1979-09-01T00:00:00.000Z", "1979-10-01T00:00:00.000Z", "1979-11-01T00:00:00.000Z", "1979-12-01T00:00:00.000Z"), 
            fdeaths = c(901, 689, 827, 677, 522, 406, 441, 393, 387, 582, 578, 666, 830, 752, 785, 664, 467, 438, 421, 412, 
                343, 440, 531, 771, 767, 1141, 896, 532, 447, 420, 376, 330, 357, 445, 546, 764, 862, 660, 663, 643, 502, 
                392, 411, 348, 387, 385, 411, 638, 796, 853, 737, 546, 530, 446, 431, 362, 387, 430, 425, 679, 821, 785, 
                727, 612, 478, 429, 405, 379, 393, 411, 487, 574), mdeaths = c(2134, 1863, 1877, 1877, 1492, 1249, 1280, 
                1131, 1209, 1492, 1621, 1846, 2103, 2137, 2153, 1833, 1403, 1288, 1186, 1133, 1053, 1347, 1545, 2066, 2020, 
                2750, 2283, 1479, 1189, 1160, 1113, 970, 999, 1208, 1467, 2059, 2240, 1634, 1722, 1801, 1246, 1162, 1087, 
                1013, 959, 1179, 1229, 1655, 2019, 2284, 1942, 1423, 1340, 1187, 1098, 1004, 970, 1140, 1110, 1812, 2263, 
                1820, 1846, 1531, 1215, 1075, 1056, 975, 940, 1081, 1294, 1341), ldeaths = c(3035, 2552, 2704, 2554, 2014, 
                1655, 1721, 1524, 1596, 2074, 2199, 2512, 2933, 2889, 2938, 2497, 1870, 1726, 1607, 1545, 1396, 1787, 2076, 
                2837, 2787, 3891, 3179, 2011, 1636, 1580, 1489, 1300, 1356, 1653, 2013, 2823, 3102, 2294, 2385, 2444, 1748, 
                1554, 1498, 1361, 1346, 1564, 1640, 2293, 2815, 3137, 2679, 1969, 1870, 1633, 1529, 1366, 1357, 1570, 1535, 
                2491, 3084, 2605, 2573, 2143, 1693, 1504, 1461, 1354, 1333, 1492, 1781, 1915), foo = c(450.5, 344.5, 413.5, 
                338.5, 261, 203, 220.5, 196.5, 193.5, 291, 289, 333, 415, 376, 392.5, 332, 233.5, 219, 210.5, 206, 171.5, 
                220, 265.5, 385.5, 383.5, 570.5, 448, 266, 223.5, 210, 188, 165, 178.5, 222.5, 273, 382, 431, 330, 331.5, 
                321.5, 251, 196, 205.5, 174, 193.5, 192.5, 205.5, 319, 398, 426.5, 368.5, 273, 265, 223, 215.5, 181, 193.5, 
                215, 212.5, 339.5, 410.5, 392.5, 363.5, 306, 239, 214.5, 202.5, 189.5, 196.5, 205.5, 243.5, 287), bar = c(300.333333333333, 
                229.666666666667, 275.666666666667, 225.666666666667, 174, 135.333333333333, 147, 131, 129, 194, 192.666666666667, 
                222, 276.666666666667, 250.666666666667, 261.666666666667, 221.333333333333, 155.666666666667, 146, 140.333333333333, 
                137.333333333333, 114.333333333333, 146.666666666667, 177, 257, 255.666666666667, 380.333333333333, 298.666666666667, 
                177.333333333333, 149, 140, 125.333333333333, 110, 119, 148.333333333333, 182, 254.666666666667, 287.333333333333, 
                220, 221, 214.333333333333, 167.333333333333, 130.666666666667, 137, 116, 129, 128.333333333333, 137, 212.666666666667, 
                265.333333333333, 284.333333333333, 245.666666666667, 182, 176.666666666667, 148.666666666667, 143.666666666667, 
                120.666666666667, 129, 143.333333333333, 141.666666666667, 226.333333333333, 273.666666666667, 261.666666666667, 
                242.333333333333, 204, 159.333333333333, 143, 135, 126.333333333333, 131, 137, 162.333333333333, 191.333333333333)), 
        autoSeries = 5), width = NULL, height = NULL, sizingPolicy = list(defaultWidth = NULL, defaultHeight = NULL, padding = NULL, 
        viewer = list(defaultWidth = NULL, defaultHeight = NULL, padding = 10, fill = TRUE, suppress = FALSE, paneHeight = NULL), 
        browser = list(defaultWidth = NULL, defaultHeight = NULL, padding = NULL, fill = TRUE, external = FALSE), knitr = list(defaultWidth = NULL, 
            defaultHeight = NULL, figure = TRUE)), dependencies = NULL, elementId = NULL, preRenderHook = NULL, jsHooks = list()), 
        class = c("dygraphs", "htmlwidget"), package = "dygraphs")
    dygraphs:::dyFilledLine(dygraph = ., name = "fdeaths")
}




