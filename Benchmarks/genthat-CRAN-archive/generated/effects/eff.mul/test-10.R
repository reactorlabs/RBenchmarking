library(effects)

function_to_run <- function() {
    X0 <- structure(c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 54.1822950819672, 54.1822950819672, 54.1822950819672, 
        54.1822950819672, 54.1822950819672, 54.1822950819672, 54.1822950819672, 54.1822950819672, 54.1822950819672, 54.1822950819672, 
        54.1822950819672, 54.1822950819672, 54.1822950819672, 54.1822950819672, 54.1822950819672, 54.1822950819672, 54.1822950819672, 
        54.1822950819672, 54.1822950819672, 54.1822950819672, 0.467540983606557, 0.467540983606557, 0.467540983606557, 0.467540983606557, 
        0.467540983606557, 0.467540983606557, 0.467540983606557, 0.467540983606557, 0.467540983606557, 0.467540983606557, 
        0.467540983606557, 0.467540983606557, 0.467540983606557, 0.467540983606557, 0.467540983606557, 0.467540983606557, 
        0.467540983606557, 0.467540983606557, 0.467540983606557, 0.467540983606557, 3.24590163934426, 3.24590163934426, 3.24590163934426, 
        3.24590163934426, 3.24590163934426, 3.24590163934426, 3.24590163934426, 3.24590163934426, 3.24590163934426, 3.24590163934426, 
        3.24590163934426, 3.24590163934426, 3.24590163934426, 3.24590163934426, 3.24590163934426, 3.24590163934426, 3.24590163934426, 
        3.24590163934426, 3.24590163934426, 3.24590163934426, 3.14032786885246, 3.14032786885246, 3.14032786885246, 3.14032786885246, 
        3.14032786885246, 3.14032786885246, 3.14032786885246, 3.14032786885246, 3.14032786885246, 3.14032786885246, 3.14032786885246, 
        3.14032786885246, 3.14032786885246, 3.14032786885246, 3.14032786885246, 3.14032786885246, 3.14032786885246, 3.14032786885246, 
        3.14032786885246, 3.14032786885246, 3.3344262295082, 3.3344262295082, 3.3344262295082, 3.3344262295082, 3.3344262295082, 
        3.3344262295082, 3.3344262295082, 3.3344262295082, 3.3344262295082, 3.3344262295082, 3.3344262295082, 3.3344262295082, 
        3.3344262295082, 3.3344262295082, 3.3344262295082, 3.3344262295082, 3.3344262295082, 3.3344262295082, 3.3344262295082, 
        3.3344262295082, 2.74688524590164, 2.74688524590164, 2.74688524590164, 2.74688524590164, 2.74688524590164, 2.74688524590164, 
        2.74688524590164, 2.74688524590164, 2.74688524590164, 2.74688524590164, 2.74688524590164, 2.74688524590164, 2.74688524590164, 
        2.74688524590164, 2.74688524590164, 2.74688524590164, 2.74688524590164, 2.74688524590164, 2.74688524590164, 2.74688524590164, 
        3.13508196721311, 3.13508196721311, 3.13508196721311, 3.13508196721311, 3.13508196721311, 3.13508196721311, 3.13508196721311, 
        3.13508196721311, 3.13508196721311, 3.13508196721311, 3.13508196721311, 3.13508196721311, 3.13508196721311, 3.13508196721311, 
        3.13508196721311, 3.13508196721311, 3.13508196721311, 3.13508196721311, 3.13508196721311, 3.13508196721311, 1, 4, 
        6, 8, 10, 1, 4, 6, 8, 10, 1, 4, 6, 8, 10, 1, 4, 6, 8, 10, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 
        3, 0, 0, 0, 0, 0, 1, 4, 6, 8, 10, 2, 8, 12, 16, 20, 3, 12, 18, 24, 30), .Dim = c(20L, 11L), .Dimnames = list(c("1", 
        "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20"), c("(Intercept)", 
        "age", "gendermale", "economic.cond.national", "economic.cond.household", "Blair", "Hague", "Kennedy", "Europe", 
        "political.knowledge", "Europe:political.knowledge")), assign = 0:10, contrasts = list(gender = "contr.treatment"))
    V <- structure(c(0.477183492704666, -0.00157119818845371, -0.00823829862774168, -0.0216170100993529, -0.0200917805312985, 
        -0.0106471712474447, -0.0155450122638587, -0.0140996276785291, -0.015321290531406, -0.0618769090836263, 0.00720299100738369, 
        0.320895871335596, -0.00113296376152299, -0.00746423694263492, -0.013119825638618, -0.0137528048234305, -0.00523031574057646, 
        -0.0111091743036295, -0.0088121749910757, -0.011046286787267, -0.0477676193229518, 0.00545714410656002, -0.00157119818845199, 
        2.87730825512018e-05, 1.97902087497542e-05, -2.09953546645762e-05, 4.04755687061599e-05, -4.55386433968583e-05, 1.72858287016212e-05, 
        -1.99816972232658e-05, 6.31431959339667e-06, 8.51172446804329e-05, -7.56494667949066e-06, -0.00112913041539131, 1.96822128005858e-05, 
        1.90274591163125e-05, -8.02373324585495e-06, 2.61801036355965e-05, -2.96440807094766e-05, 1.29164530678029e-05, -1.59042129410033e-05, 
        5.00347233689638e-06, 7.31299522744637e-05, -7.12310964629473e-06, -0.00823829862772895, 1.97902087497441e-05, 0.0287101554282767, 
        -0.000326437136641471, 3.57942631829386e-05, -0.000548223818724622, -0.000346689592372746, 0.000591677375261198, 
        -0.000145624110911824, -0.0021507067485845, 9.30421214884552e-05, -0.00768762319530643, 1.89058757692359e-05, 0.0197215107496641, 
        -0.000113293148246483, 0.000266588149866157, -0.000252471507974975, -0.000456048766735351, 0.000499316237577091, 
        -5.50956333658358e-05, -0.000961936718381792, 2.78292090930113e-05, -0.0216170100993256, -2.09953546645857e-05, -0.000326437136640953, 
        0.0113445770749393, -0.00297540431715682, -0.000887146826071874, -2.79695775546655e-05, -0.000153449874489591, -2.3270109955859e-05, 
        -0.000432694869795907, 5.63373295624691e-05, -0.0127116033104689, -3.93059668253712e-06, -9.98861622194125e-05, 0.00751952130859725, 
        -0.00209891530988102, -0.000733605204831082, 1.45716110088844e-05, -0.000173943379362432, -5.43150039513337e-05, 
        -0.000417920236632757, 5.29045717013834e-05, -0.0200917805313002, 4.04755687062362e-05, 3.57942631835508e-05, -0.00297540431715551, 
        0.00925609859308073, -0.000558779596077421, -0.000137396748720421, 0.000121022129256435, 8.98090047131205e-05, 0.000557844280649301, 
        -8.4103403555667e-05, -0.013688898127111, 2.82668191233647e-05, 0.00025621313677863, -0.00210669090804222, 0.00628246994735266, 
        -0.000433034614676096, -1.01797852386374e-05, 0.000151551230167482, 8.13669475864977e-05, 0.000517960455429268, -7.11487563759079e-05, 
        -0.0106471712474696, -4.55386433967378e-05, -0.000548223818724077, -0.000887146826070094, -0.000558779596076406, 
        0.00618505394603661, -0.000530937898291206, -0.000381640682843768, 0.000170257262892174, -0.000145143449788625, -5.2802796116704e-05, 
        -0.00494532394720539, -2.4900317817435e-05, -0.000249399070377472, -0.000709969381980274, -0.000386107858980154, 
        0.00367157868807791, -0.000124515679410601, -0.000265319365334501, 0.000112749523781326, -4.81954201671253e-05, -2.42409481059956e-05, 
        -0.0155450122638091, 1.72858287015126e-05, -0.000346689592373246, -2.79695775559776e-05, -0.000137396748722571, -0.000530937898293133, 
        0.0056901410923513, -0.000617093167359473, 2.99865903445661e-05, 0.00104210699430682, -4.57593582224698e-05, -0.0110439942899816, 
        1.4585559323057e-05, -0.000462340759244748, -0.000167862915534197, -0.000106203005127112, -0.000392903892825811, 
        0.00392073485295021, -0.00058276741443793, 2.32408904383716e-05, 0.000596642803733103, -3.84953331936295e-06, -0.014099627678555, 
        -1.99816972231297e-05, 0.000591677375262205, -0.000153449874487634, 0.000121022129257517, -0.000381640682843922, 
        -0.000617093167357177, 0.00632044883812221, -8.43924558908875e-05, 4.23053560894659e-05, -1.22148634827762e-05, -0.00928075363015459, 
        -2.25128497636169e-05, 0.000507888298626765, 2.03628871911857e-05, 0.000210090764555642, 4.13393606197095e-05, -0.000841457608467913, 
        0.00427497566307408, -6.59830723439808e-05, 0.000319499917606844, -6.45977747222173e-05, -0.0153212905314336, 6.31431959354293e-06, 
        -0.000145624110911095, -2.32701099537424e-05, 8.98090047142338e-05, 0.000170257262891997, 2.99865903470604e-05, -8.43924558908913e-05, 
        0.00199358491180523, 0.00643915886091893, -0.000895984996285657, -0.0111159301970402, 3.83725242967843e-06, -7.80925378443423e-05, 
        -2.01848226013629e-05, 8.77078687390567e-05, 0.00014731441121795, -2.42095227938336e-05, -5.81660993246454e-05, 0.00142723511722053, 
        0.00472762618481381, -0.000644815834373134, -0.0618769090836896, 8.51172446808644e-05, -0.00215070674858247, -0.000432694869789571, 
        0.000557844280651789, -0.0001451434497904, 0.00104210699431533, 4.23053560880476e-05, 0.00643915886091738, 0.0414965069707057, 
        -0.00489187474376317, -0.0493171609932502, 6.76467343321667e-05, -0.00108503467881805, -0.000149881260343771, 0.000658493350654163, 
        0.000373452056846395, 0.000214861207879669, 0.000292124394635141, 0.00477491927973731, 0.0327010827657821, -0.00375074546707464, 
        0.00720299100739452, -7.56494667955243e-06, 9.30421214881669e-05, 5.63373295615774e-05, -8.41034035561015e-05, -5.28027961165767e-05, 
        -4.57593582235733e-05, -1.22148634827129e-05, -0.000895984996285589, -0.00489187474376362, 0.000683490562512619, 
        0.00568756362556659, -6.59583157721295e-06, 3.72510118964426e-05, 1.24866266505147e-05, -9.66930897555759e-05, -8.93372558489458e-05, 
        2.50250994325751e-05, -3.14134849090561e-05, -0.000651445307697315, -0.00375245932079759, 0.00049371372778807, 0.32089587133586, 
        -0.00112913041539339, -0.00768762319531909, -0.0127116033104994, -0.0136888981271208, -0.00494532394719429, -0.0110439942900237, 
        -0.00928075363014487, -0.0111159301970302, -0.0493171609932424, 0.00568756362556335, 0.539358797879317, -0.00172384392651757, 
        -0.00864206424911615, -0.021978154490404, -0.0214676631181917, -0.0098225824029433, -0.0183970595992676, -0.0178651922409934, 
        -0.0186963351144076, -0.0753527982570404, 0.00840425883405282, -0.00113296376152201, 1.96822128005868e-05, 1.89058757692489e-05, 
        -3.9305966825168e-06, 2.82668191233195e-05, -2.49003178175169e-05, 1.45855593231442e-05, -2.25128497637079e-05, 3.83725242958121e-06, 
        6.76467343318891e-05, -6.59583157717233e-06, -0.00172384392651626, 3.18426786526028e-05, 2.19917569806095e-05, -1.82451429427369e-05, 
        3.25660189613082e-05, -3.51627939686316e-05, 1.71051295031419e-05, -2.19010174368502e-05, 9.11262906872269e-07, 8.13101771329328e-05, 
        -6.87204568509982e-06, -0.00746423694261717, 1.90274591162823e-05, 0.019721510749664, -9.98861622200668e-05, 0.000256213136777831, 
        -0.000249399070378143, -0.00046234075924451, 0.000507888298625706, -7.80925378452406e-05, -0.0010850346788209, 3.72510118968221e-05, 
        -0.00864206424910022, 2.19917569805828e-05, 0.0316989641953981, -0.000163631104122872, 0.000121938073658274, -0.000605108838821997, 
        -0.000444794473831694, 0.000501871558947847, -0.000223866269670282, -0.00293020468390251, 0.00015718375362809, -0.0131198256385957, 
        -8.02373324587651e-06, -0.000113293148246325, 0.00751952130859698, -0.00210669090804327, -0.000709969381981474, -0.000167862915533587, 
        2.03628871898421e-05, -2.01848226028228e-05, -0.000149881260348296, 1.2486626651135e-05, -0.0219781544903817, -1.82451429427618e-05, 
        -0.000163631104122601, 0.0121001976390886, -0.00326438819935943, -0.001197705805632, 0.000268789391910445, -0.000311833092135181, 
        2.46746515938846e-05, -0.000570207122902349, 7.50921248540677e-05, -0.0137528048234562, 2.61801036357318e-05, 0.000266588149867145, 
        -0.00209891530987897, 0.0062824699473537, -0.000386107858980318, -0.000106203005124831, 0.000210090764555611, 8.77078687390834e-05, 
        0.000658493350655616, -9.66930897556469e-05, -0.0214676631182016, 3.25660189613989e-05, 0.000121938073659317, -0.003264388199358, 
        0.0101505652721027, -0.000722452671588659, 4.60198937194333e-05, 0.000198790015746228, 7.93619573171549e-05, 0.000563315475972641, 
        -5.87138534300371e-05, -0.00523031574060288, -2.96440807093689e-05, -0.000252471507974503, -0.000733605204829557, 
        -0.000433034614675006, 0.00367157868807822, -0.000392903892824405, 4.13393606201993e-05, 0.000147314411218493, 0.000373452056849095, 
        -8.9337255849221e-05, -0.00982258240295836, -3.51627939685564e-05, -0.000605108838821472, -0.00119770580563101, -0.000722452671588174, 
        0.00616949746097707, -7.80088838943847e-05, -0.000384887612982371, 0.000190862927221623, -0.000270110972975786, -2.84241608495986e-08, 
        -0.0111091743035922, 1.29164530677208e-05, -0.000456048766735751, 1.45716110078813e-05, -1.01797852402674e-05, -0.000124515679412029, 
        0.00392073485295015, -0.00084145760846961, -2.42095227956723e-05, 0.000214861207873357, 2.50250994333904e-05, -0.0183970595992363, 
        1.71051295030754e-05, -0.000444794473831894, 0.000268789391909973, 4.60198937177343e-05, -7.80088838954191e-05, 0.00623410514250261, 
        -0.00088381183574715, -2.65194550461596e-05, 0.000789235763579196, -3.63960196244935e-05, -0.00881217499110081, -1.5904212940886e-05, 
        0.000499316237577936, -0.000173943379360833, 0.000151551230168543, -0.000265319365334392, -0.000582767414436205, 
        0.00427497566307433, -5.8166099324354e-05, 0.000292124394637189, -3.14134849092321e-05, -0.0178651922410055, -2.19010174367708e-05, 
        0.000501871558948698, -0.000311833092134123, 0.000198790015746515, -0.000384887612982575, -0.00088381183574588, 0.00744798211259602, 
        -0.000113654930363692, 0.000189741077398128, -3.37671474768986e-05, -0.0110462867873067, 5.00347233706933e-06, -5.50956333650536e-05, 
        -5.43150039489128e-05, 8.13669475881319e-05, 0.000112749523781625, 2.32408904408234e-05, -6.59830723434024e-05, 0.00142723511722117, 
        0.00477491927974102, -0.000651445307697666, -0.0186963351144281, 9.11262906989506e-07, -0.000223866269669372, 2.46746515954779e-05, 
        7.93619573177049e-05, 0.000190862927221437, -2.65194550443657e-05, -0.000113654930363532, 0.00242851822004004, 0.00795509232640415, 
        -0.00106941921628752, -0.0477676193230483, 7.31299522749602e-05, -0.000961936718379726, -0.000417920236625721, 0.000517960455433195, 
        -4.81954201674744e-05, 0.000596642803741262, 0.00031949991760715, 0.00472762618481418, 0.0327010827657884, -0.00375245932079797, 
        -0.0753527982570786, 8.13101771332613e-05, -0.00293020468389975, -0.000570207122897573, 0.00056331547597289, -0.000270110972977385, 
        0.00078923576358521, 0.000189741077397446, 0.00795509232640242, 0.0479956249018998, -0.00557305264035114, 0.00545714410657503, 
        -7.12310964636464e-06, 2.78292090927137e-05, 5.29045717004013e-05, -7.1148756376523e-05, -2.42409481060457e-05, -3.84953332042428e-06, 
        -6.45977747223698e-05, -0.000644815834373305, -0.00375074546707589, 0.000493713727788174, 0.00840425883405985, -6.87204568514671e-06, 
        0.000157183753627717, 7.50921248534151e-05, -5.87138534301803e-05, -2.8424160711661e-08, -3.63960196252728e-05, -3.37671474768937e-05, 
        -0.00106941921628741, -0.00557305264035154, 0.000764198318012633), .Dim = c(22L, 22L), .Dimnames = list(c("Labour:(Intercept)", 
        "Labour:age", "Labour:gendermale", "Labour:economic.cond.national", "Labour:economic.cond.household", "Labour:Blair", 
        "Labour:Hague", "Labour:Kennedy", "Labour:Europe", "Labour:political.knowledge", "Labour:Europe:political.knowledge", 
        "Liberal Democrat:(Intercept)", "Liberal Democrat:age", "Liberal Democrat:gendermale", "Liberal Democrat:economic.cond.national", 
        "Liberal Democrat:economic.cond.household", "Liberal Democrat:Blair", "Liberal Democrat:Hague", "Liberal Democrat:Kennedy", 
        "Liberal Democrat:Europe", "Liberal Democrat:political.knowledge", "Liberal Democrat:Europe:political.knowledge"), 
        c("Labour:(Intercept)", "Labour:age", "Labour:gendermale", "Labour:economic.cond.national", "Labour:economic.cond.household", 
            "Labour:Blair", "Labour:Hague", "Labour:Kennedy", "Labour:Europe", "Labour:political.knowledge", "Labour:Europe:political.knowledge", 
            "Liberal Democrat:(Intercept)", "Liberal Democrat:age", "Liberal Democrat:gendermale", "Liberal Democrat:economic.cond.national", 
            "Liberal Democrat:economic.cond.household", "Liberal Democrat:Blair", "Liberal Democrat:Hague", "Liberal Democrat:Kennedy", 
            "Liberal Democrat:Europe", "Liberal Democrat:political.knowledge", "Liberal Democrat:Europe:political.knowledge")))
    se <- TRUE
    r <- 22
    p <- 11L
    m <- 3
    i <- 14L
    B <- structure(c(-0.873406020757905, -0.019798563561471, 0.112611296254549, 0.522014981749573, 0.178631593223073, 0.823615272076646, 
        -0.868375039840268, 0.239566376959324, -0.00170616998859955, 0.658268954452589, -0.158932385806185, -0.718464698938892, 
        -0.0146024780086422, 0.091396242413184, 0.145117150119817, 0.0077251791007558, 0.27790537888662, -0.78082226503026, 
        0.655664829486753, 0.068412428913075, 1.16023317595656, -0.182853245823743), .Dim = c(11L, 2L), .Dimnames = list(c("(Intercept)", 
        "age", "gendermale", "economic.cond.national", "economic.cond.household", "Blair", "Hague", "Kennedy", "Europe", 
        "political.knowledge", "Europe:political.knowledge"), c("Labour", "Liberal Democrat")))
    effects:::eff.mul(x0 = X0[i, ], B = B, se = se, m = m, p = p, r = r, V = V)
}




