

genthat_extracted_call <- function() {
    P <- genthat::with_env(function(m) {
        sum(pmin(m, 0)^2) + sum((rowSums(matrix(m, nr)) - 1)^2)
    }, env = list2env(list(nr = 15L), parent = baseenv()))
    L <- genthat::with_env(function(m) sum((y - tcrossprod(matrix(m, n)))^2), env = list2env(list(y = c(1, 0.870588235294118, 
        0.435294117647059, 0.552941176470588, 0.105882352941176, 0.0235294117647059, 0.141176470588235, 0.0352941176470588, 
        0.0235294117647059, 0.129411764705882, 0.0823529411764706, 0, 0.0117647058823529, 0.0117647058823529, 0.0823529411764706, 
        0.870588235294118, 1, 0.552941176470588, 0.435294117647059, 0.0235294117647059, 0.105882352941176, 0.0352941176470588, 
        0.141176470588235, 0.129411764705882, 0.0235294117647059, 0.0117647058823529, 0.0705882352941176, 0.0117647058823529, 
        0.0823529411764706, 0.0117647058823529, 0.435294117647059, 0.552941176470588, 1, 0.847058823529412, 0.0352941176470588, 
        0.141176470588235, 0.0235294117647059, 0.129411764705882, 0.188235294117647, 0.0588235294117647, 0.0588235294117647, 
        0.152941176470588, 0.0352941176470588, 0.0705882352941176, 0, 0.552941176470588, 0.435294117647059, 0.847058823529412, 
        1, 0.141176470588235, 0.0352941176470588, 0.129411764705882, 0.0235294117647059, 0.0588235294117647, 0.188235294117647, 
        0.141176470588235, 0.0705882352941176, 0.0470588235294118, 0, 0.0705882352941176, 0.105882352941176, 0.0235294117647059, 
        0.0352941176470588, 0.141176470588235, 1, 0.882352941176471, 0.352941176470588, 0.258823529411765, 0.282352941176471, 
        0.388235294117647, 0.129411764705882, 0.0235294117647059, 0.0941176470588235, 0.0235294117647059, 0.0941176470588235, 
        0.0235294117647059, 0.105882352941176, 0.141176470588235, 0.0352941176470588, 0.882352941176471, 1, 0.258823529411765, 
        0.352941176470588, 0.388235294117647, 0.282352941176471, 0.0470588235294118, 0.105882352941176, 0.0823529411764706, 
        0.0941176470588235, 0.0235294117647059, 0.141176470588235, 0.0352941176470588, 0.0235294117647059, 0.129411764705882, 
        0.352941176470588, 0.258823529411765, 1, 0.847058823529412, 0.494117647058824, 0.6, 0.0941176470588235, 0, 0.0117647058823529, 
        0.0705882352941176, 0.152941176470588, 0.0352941176470588, 0.141176470588235, 0.129411764705882, 0.0235294117647059, 
        0.258823529411765, 0.352941176470588, 0.847058823529412, 1, 0.6, 0.494117647058824, 0.0235294117647059, 0.0705882352941176, 
        0.0117647058823529, 0.152941176470588, 0.0705882352941176, 0.0235294117647059, 0.129411764705882, 0.188235294117647, 
        0.0588235294117647, 0.282352941176471, 0.388235294117647, 0.494117647058824, 0.6, 1, 0.835294117647059, 0.0470588235294118, 
        0.129411764705882, 0.0235294117647059, 0.0705882352941176, 0, 0.129411764705882, 0.0235294117647059, 0.0588235294117647, 
        0.188235294117647, 0.388235294117647, 0.282352941176471, 0.6, 0.494117647058824, 0.835294117647059, 1, 0.129411764705882, 
        0.0470588235294118, 0.0352941176470588, 0, 0.0705882352941176, 0.0823529411764706, 0.0117647058823529, 0.0588235294117647, 
        0.141176470588235, 0.129411764705882, 0.0470588235294118, 0.0941176470588235, 0.0235294117647059, 0.0470588235294118, 
        0.129411764705882, 1, 0.858823529411765, 0.376470588235294, 0.423529411764706, 0.505882352941176, 0, 0.0705882352941176, 
        0.152941176470588, 0.0705882352941176, 0.0235294117647059, 0.105882352941176, 0, 0.0705882352941176, 0.129411764705882, 
        0.0470588235294118, 0.858823529411765, 1, 0.376470588235294, 0.505882352941176, 0.423529411764706, 0.0117647058823529, 
        0.0117647058823529, 0.0352941176470588, 0.0470588235294118, 0.0941176470588235, 0.0823529411764706, 0.0117647058823529, 
        0.0117647058823529, 0.0235294117647059, 0.0352941176470588, 0.376470588235294, 0.376470588235294, 1, 0.552941176470588, 
        0.541176470588235, 0.0117647058823529, 0.0823529411764706, 0.0705882352941176, 0, 0.0235294117647059, 0.0941176470588235, 
        0.0705882352941176, 0.152941176470588, 0.0705882352941176, 0, 0.423529411764706, 0.505882352941176, 0.552941176470588, 
        1, 0.882352941176471, 0.0823529411764706, 0.0117647058823529, 0, 0.0705882352941176, 0.0941176470588235, 0.0235294117647059, 
        0.152941176470588, 0.0705882352941176, 0, 0.0705882352941176, 0.505882352941176, 0.423529411764706, 0.541176470588235, 
        0.882352941176471, 1), n = 15L), parent = baseenv()))
    grad_P <- genthat::with_env(function(m) {
        2 * (pmin(m, 0) + rep.int(rowSums(matrix(m, nr)) - 1, nc))
    }, env = list2env(list(nr = 15L, nc = 3), parent = baseenv()))
    grad_L <- genthat::with_env(function(m) {
        M <- matrix(m, n)
        4 * c((tcrossprod(M) - Y) %*% M)
    }, env = list2env(list(Y = structure(c(1, 0.870588235294118, 0.435294117647059, 0.552941176470588, 0.105882352941176, 
        0.0235294117647059, 0.141176470588235, 0.0352941176470588, 0.0235294117647059, 0.129411764705882, 0.0823529411764706, 
        0, 0.0117647058823529, 0.0117647058823529, 0.0823529411764706, 0.870588235294118, 1, 0.552941176470588, 0.435294117647059, 
        0.0235294117647059, 0.105882352941176, 0.0352941176470588, 0.141176470588235, 0.129411764705882, 0.0235294117647059, 
        0.0117647058823529, 0.0705882352941176, 0.0117647058823529, 0.0823529411764706, 0.0117647058823529, 0.435294117647059, 
        0.552941176470588, 1, 0.847058823529412, 0.0352941176470588, 0.141176470588235, 0.0235294117647059, 0.129411764705882, 
        0.188235294117647, 0.0588235294117647, 0.0588235294117647, 0.152941176470588, 0.0352941176470588, 0.0705882352941176, 
        0, 0.552941176470588, 0.435294117647059, 0.847058823529412, 1, 0.141176470588235, 0.0352941176470588, 0.129411764705882, 
        0.0235294117647059, 0.0588235294117647, 0.188235294117647, 0.141176470588235, 0.0705882352941176, 0.0470588235294118, 
        0, 0.0705882352941176, 0.105882352941176, 0.0235294117647059, 0.0352941176470588, 0.141176470588235, 1, 0.882352941176471, 
        0.352941176470588, 0.258823529411765, 0.282352941176471, 0.388235294117647, 0.129411764705882, 0.0235294117647059, 
        0.0941176470588235, 0.0235294117647059, 0.0941176470588235, 0.0235294117647059, 0.105882352941176, 0.141176470588235, 
        0.0352941176470588, 0.882352941176471, 1, 0.258823529411765, 0.352941176470588, 0.388235294117647, 0.282352941176471, 
        0.0470588235294118, 0.105882352941176, 0.0823529411764706, 0.0941176470588235, 0.0235294117647059, 0.141176470588235, 
        0.0352941176470588, 0.0235294117647059, 0.129411764705882, 0.352941176470588, 0.258823529411765, 1, 0.847058823529412, 
        0.494117647058824, 0.6, 0.0941176470588235, 0, 0.0117647058823529, 0.0705882352941176, 0.152941176470588, 0.0352941176470588, 
        0.141176470588235, 0.129411764705882, 0.0235294117647059, 0.258823529411765, 0.352941176470588, 0.847058823529412, 
        1, 0.6, 0.494117647058824, 0.0235294117647059, 0.0705882352941176, 0.0117647058823529, 0.152941176470588, 0.0705882352941176, 
        0.0235294117647059, 0.129411764705882, 0.188235294117647, 0.0588235294117647, 0.282352941176471, 0.388235294117647, 
        0.494117647058824, 0.6, 1, 0.835294117647059, 0.0470588235294118, 0.129411764705882, 0.0235294117647059, 0.0705882352941176, 
        0, 0.129411764705882, 0.0235294117647059, 0.0588235294117647, 0.188235294117647, 0.388235294117647, 0.282352941176471, 
        0.6, 0.494117647058824, 0.835294117647059, 1, 0.129411764705882, 0.0470588235294118, 0.0352941176470588, 0, 0.0705882352941176, 
        0.0823529411764706, 0.0117647058823529, 0.0588235294117647, 0.141176470588235, 0.129411764705882, 0.0470588235294118, 
        0.0941176470588235, 0.0235294117647059, 0.0470588235294118, 0.129411764705882, 1, 0.858823529411765, 0.376470588235294, 
        0.423529411764706, 0.505882352941176, 0, 0.0705882352941176, 0.152941176470588, 0.0705882352941176, 0.0235294117647059, 
        0.105882352941176, 0, 0.0705882352941176, 0.129411764705882, 0.0470588235294118, 0.858823529411765, 1, 0.376470588235294, 
        0.505882352941176, 0.423529411764706, 0.0117647058823529, 0.0117647058823529, 0.0352941176470588, 0.0470588235294118, 
        0.0941176470588235, 0.0823529411764706, 0.0117647058823529, 0.0117647058823529, 0.0235294117647059, 0.0352941176470588, 
        0.376470588235294, 0.376470588235294, 1, 0.552941176470588, 0.541176470588235, 0.0117647058823529, 0.0823529411764706, 
        0.0705882352941176, 0, 0.0235294117647059, 0.0941176470588235, 0.0705882352941176, 0.152941176470588, 0.0705882352941176, 
        0, 0.423529411764706, 0.505882352941176, 0.552941176470588, 1, 0.882352941176471, 0.0823529411764706, 0.0117647058823529, 
        0, 0.0705882352941176, 0.0941176470588235, 0.0235294117647059, 0.152941176470588, 0.0705882352941176, 0, 0.0705882352941176, 
        0.505882352941176, 0.423529411764706, 0.541176470588235, 0.882352941176471, 1), .Dim = c(15L, 15L)), n = 15L), parent = baseenv()))
    start <- list(c(-0.386263673562708, -0.385867608777899, -0.425122567921072, -0.426671681858489, -0.547220120924559, -0.545699122927276, 
        -0.643442106202605, -0.643045820901414, -0.651496472312171, -0.653049079380346, -0.467251411657283, -0.452578212263021, 
        -0.358997990673974, -0.4640942781654, -0.463402834374914, 0.121512880342736, 0.121425683025848, 0.100878383326558, 
        0.0985737882862049, 0.267649715625173, 0.269909673696833, 0.36733352360937, 0.367234888207083, 0.396773986709818, 
        0.394459767129066, -0.636422638094658, -0.647106918679151, -0.596094097538904, -0.709512148395535, -0.706900142068342, 
        -0.74559458014037, -0.746003085036604, -0.716284432780861, -0.715433878689803, 0.239413667050436, 0.238589613817016, 
        0.306820426317411, 0.306408139308828, 0.279251552730471, 0.280104112217383, 0.0455765330574569, 0.035429079360255, 
        0.0831231680463648, 0.105563926528734, 0.105603326103922))
    control <- list(k = 3, verbose = TRUE)
    clue:::sumt(x0 = start, L = L, P = P, grad_L = grad_L, grad_P = grad_P, method = control$method, eps = control$eps, q = control$q, 
        verbose = control$verbose, control = as.list(control$control))
}




