library(coin)

function_to_run <- function() {
    w <- c(0.933333333333333, 0.866666666666667, 0.8, 0.733333333333333, 0.666666666666667, 0.6, 0.533333333333333, 0.533333333333333, 
        0.457142857142857, 0.380952380952381, 0.380952380952381, 0.380952380952381, 0.253968253968254, 0.126984126984127)
    time0 <- c(257, 476, 355, 1779, 355, 191, 563, 242, 285, 16, 16, 16, 257, 16)
    noise <- c(7.30154935328756, 3.23813436669298, 7.18182447482832, 6.65816179127432, 4.79984077101108, 7.28224957769271, 
        4.64128655497916, 2.50070408452302, 2.60061186156236, 2.98864058568142, 5.88519581768196, 0.29202368343249, 5.61596539628226, 
        5.07957622641698)
    n_risk <- 14:1
    n_event <- c(1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 1, 1)
    idx <- c(8L, 12L, 10L, 14L, 11L, 5L, 13L, 6L, 9L, 3L, 1L, 4L, 7L, 2L)
    event <- c(0, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1)
    coin:::average_scores(s = cumsum(w * n_event/n_risk)[idx] - event * w[idx], x = time0 + (1 - event) * noise)
}




