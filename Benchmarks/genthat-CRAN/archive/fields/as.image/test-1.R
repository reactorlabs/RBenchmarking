library(fields)

function_to_run <- function() {
    z <- c(20.5666666666667, 16, NA, NA, 14.8333333333333, NA, 10.3333333333333, NA, 11.2, 12.4333333333333, NA, 14.5333333333333, 
        NA, 17.2, 16.4, NA, 16.9, 16.6333333333333, NA, NA, 16.9666666666667, NA, 6.8, NA, 18.5, 15.0666666666667, NA, 14.2666666666667, 
        14.9333333333333, 17.7, 16.2, NA, NA, 12.3, 16.5333333333333, NA, NA, 14.5666666666667, NA, NA, NA, 7.66666666666667, 
        15.1333333333333, NA, NA, 13.9666666666667, 19.1, 16.6333333333333, NA, 8.86666666666667, 15.1333333333333, 17.9666666666667, 
        18.2, NA, 17.1, NA, NA, 14.1, NA, NA, NA, NA, 16.5666666666667, 14.5333333333333, NA, 17.4, NA, 19.2666666666667, 
        10.8, 17.3333333333333, NA, NA, 10.8, 9.13333333333333, NA, 10.6333333333333, 13, NA, 17.8666666666667, 10.3, NA, 
        NA, 11.9333333333333, NA, 11.8666666666667, 10.6, 19.2666666666667, 16.1, NA, NA, NA, 17.6, NA, NA, 18.3666666666667, 
        16.9, NA, 17.4666666666667, 10.9666666666667, NA, 20.9333333333333, 12.1666666666667, 11.0333333333333, NA, 15.7666666666667, 
        20.1666666666667, 21.2, NA, 7.7, 13, 16.3, NA, NA, NA, NA, NA, NA, 17.1666666666667, NA, 15.1333333333333, NA, NA, 
        NA, NA, NA, NA, 10.1666666666667, 14.8333333333333, 14.2666666666667, NA, 4.33333333333333, NA, NA, 17.2666666666667, 
        NA, 15.0666666666667, NA, 20.1666666666667, 18.5, 11.1333333333333, 14.8, 18.5333333333333, NA, NA, 18.4333333333333, 
        NA, NA, NA, 16.5333333333333, NA, 19.1333333333333, 19.5333333333333, NA, 15.5666666666667, NA, NA, NA, NA, NA, NA, 
        NA, 20.8666666666667, NA, 5.03333333333333, NA, 16, 14.9666666666667, NA, NA, NA, 17.5333333333333, NA, 9.06666666666667, 
        8.56666666666667, 20.2, NA, NA, 12, 17.2, 17.5333333333333, 15.4333333333333, NA, NA, 19.8666666666667, 7.36666666666667, 
        12.2666666666667, NA, 17.5333333333333, 18.8, 8.7, NA, 20.0666666666667, NA, NA, 10.0666666666667, 18.1, 19.3333333333333, 
        16.1, NA, NA, 11.1333333333333, NA, 5.2, NA, 18.2333333333333, NA, 16.4, 16.8, 9.13333333333333, 5.36666666666667, 
        NA, NA, 7.5, 4.46666666666667, 5.4, 9.06666666666667, NA, NA, NA, NA, NA, NA, 6.43333333333333, NA, 10.3666666666667, 
        7.83333333333333, 6.73333333333333, 9.26666666666667, 9.26666666666667, 3.46666666666667, 5.83333333333333, 8.13333333333333, 
        12.6666666666667, 5.23333333333333, 9, 7.83333333333333, 9.26666666666667, 7.3, 7.4, 10.5, 5.03333333333333, 7.83333333333333, 
        8.93333333333333, NA, 8.36666666666667, NA, NA, NA, 9.63333333333333, 11.2666666666667, 6.9, 10.5, 9.43333333333333, 
        7.96666666666667, 9.8, 4.9, 13.3333333333333, 10.3666666666667, 9.26666666666667, 8.43333333333333, 10.4666666666667, 
        8.6, 6.8, 8.16666666666667, 7.53333333333333, 8.9, 9.46666666666667, 12.8333333333333, 10.1333333333333, NA, 11.0666666666667, 
        18.2333333333333, 17.7666666666667, NA, 17.5333333333333, 19.1666666666667, 17.4, 19.9, NA, 19.8333333333333, 17.9666666666667, 
        17.4333333333333, 19.2, 19.2333333333333, 18.2, 19.6333333333333, 20.1333333333333, 18.3666666666667, 20.0333333333333, 
        17.7333333333333, 18.2, 16, 15.2666666666667, 17.1, NA, 15.6666666666667, NA, 15.5333333333333, 16, 16.7, 15.8333333333333, 
        15.7333333333333, 15.7333333333333, 14.2666666666667, NA, 17.3666666666667, 15.6666666666667, 20.4333333333333, 20.4666666666667, 
        NA, 15.2666666666667, 13.4666666666667, NA, NA, 17.4666666666667, 12.9333333333333, 17, NA, NA, NA, 19.4666666666667, 
        NA, 21.0666666666667, NA, 18.1, 12.5333333333333, 18.1, NA, NA, 15.4333333333333, 16.9333333333333, NA, NA, 11.2666666666667, 
        NA, 14.9666666666667, NA, NA, 19.6, 20.4666666666667, NA, 20.9333333333333, 19.6333333333333, NA, NA, 18.8333333333333, 
        NA, NA, 18.8333333333333, 14.9666666666667, NA, 22.5333333333333, 14.0333333333333, 20.6666666666667, 17.8, NA, 15.6, 
        14.3333333333333, 14.7333333333333, 13.3, 13.1333333333333, 15.3333333333333, 9.83333333333333, 12.3, NA, NA, 12.6, 
        NA, NA, NA, NA, 10.7333333333333, 11.5, NA, 14.3666666666667, 12.3666666666667)
    x <- structure(c(-109.1, -103.15, -103.17, -105.88, -105.85, -105.53, -105.88, -105.27, -106.83, -105.48, -105.78, -105.52, 
        -106.68, -102.18, -105.27, -103.88, -104.33, -104.83, -108.92, -106.13, -102.27, -104.22, -105.7, -104.33, -105.23, 
        -104.87, -107.93, -106.12, -105.28, -104.85, -102.35, -107.52, -106.2, -106.77, -107.97, -108.73, -104.83, -104.7, 
        -106.03, -108.57, -107.6, -106.97, -105.68, -105.18, -104.02, -106.35, -108.07, -104.88, -105, -106.03, -108.97, 
        -107.88, -102.78, -106.83, -105.08, -104.55, -105.52, -105.32, -102.07, -105.13, -103.68, -104.77, -105.08, -108.05, 
        -104.72, -103.8, -105.83, -108.75, -105.7, -107.32, -108.53, -108.58, -105.83, -105.85, -108.05, -105.68, -105.53, 
        -104.68, -104.7, -106.33, -108.67, -104.42, -106.97, -107.25, -107.13, -106, -102.12, -102.3, -106.13, -105.52, -107.63, 
        -102.68, -102.93, -105.85, -102.25, -105.1, -103.9, -102.78, -106.4, -103.52, -103.48, -107.32, -105.48, -104.98, 
        -105.13, -102.62, -103.22, -106.3, -106.32, -107.65, -103.02, -103.73, -103.68, -103.7, -108.2, -105.02, -103.48, 
        -105.07, -105.57, -105.95, -107.55, -107.47, -108.08, -107.9, -107.92, -108, -106.75, -108.5, -106.15, -104.92, -105.6, 
        -105.5, -109.03, -105.02, -105.05, -108.28, -104.78, -103.75, -103.7, -107.68, -107.02, -108.35, -107.18, -104.92, 
        -107.58, -107.58, -108.95, -108.98, -104.65, -106.53, -104.5, -104.72, -104.65, -108.8, -105.6, -107.3, -105.32, 
        -108.03, -107.75, -107.78, -107.27, -103.7, -104.08, -104.98, -104.93, -106.13, -106.02, -106.05, -107.47, -102.52, 
        -102.52, -103.35, -107.67, -106.42, -102.7, -102.62, -107.27, -106.83, -103.2, -102.58, -105.12, -106.37, -108.27, 
        -104.12, -106.62, -107.87, -103.92, -104.48, -104.33, -106.32, -102.38, -108.73, -107.58, -106.83, -106.27, -104.8, 
        -102.28, -105.2, -105.48, -105.08, -106.22, -107.27, -106.78, -106.87, -102.23, -106.9, -108.73, -102.73, -105.848, 
        -105.82, -105.733, -105.59, -105.761, -105.87, -105.778, -105.122, -105.341, -105.25, -106.933, -106.233, -106.5, 
        -106.367, -106.9, -106.283, -106.781, -106.604, -106.094, -106.67, -106.969, -106.677, -106.06, -106.612, -106.608, 
        -106.197, -106.158, -106.171, -106.615, -106.38, -106.542, -106.59, -106.34, -106.953, -106.835, -106.452, -106.548, 
        -106.657, -106.321, -106.263, -107.167, -107.267, -107.167, -107.058, -107.599, -107.874, -107.288, -107.357, -107.805, 
        -107.689, -107.727, -107.035, -107.675, -107.924, -107.204, -107.507, -107.512, -107.713, -108.058, -108.382, -108.195, 
        -109.267, -109.483, -101.05, -101.37, -101.05, -101.07, -101.9, -101.7, -101.33, -101.75, -101.25, -101.37, -101.38, 
        -101.77, -101.18, -101.8, -101.75, -101.77, -101.77, -101.35, -101.25, -101.53, -102.08, -102.97, -101.52, -101.93, 
        -101.63, -101.62, -103.67, -101.67, -102.63, -101.55, -101.72, -102.33, -102.98, -103.03, -101.02, -101.17, -108, 
        -107.97, -103.97, -105.6, -106.58, -104.78, -103.83, -107, -105.27, -106.73, -105.28, -108.23, -108.2, -108.25, -103.92, 
        -108.4, -107.48, -103.62, -104.37, -104.58, -107.62, -104.43, -104.43, -104.45, -104.42, -104.5, -105.4, -108.73, 
        -106.58, -105.97, -104.95, -102.48, -101.62, -101.48, -101.22, -102.97, -109.07, -109.18, -109.48, -109.18, -109.32, 
        -109.4, -109.08, -109.32, -109.3, -109.42, -109.07, -109.37, -109.25, -109.22, -109.33, -104.1, -104.65, -107.65, 
        -104.32, -106.13, -104.82, -104.88, -107.53, -106.62, -106.15, -105.23, -105.57, -105.58, -105.68, -105.62, -104.07, 
        -104.15, -106.82, 36.9, 40.15, 40.12, 37.47, 37.43, 40.2, 39, 40.03, 39.18, 39.4, 39.8, 37.43, 39.88, 39.62, 40, 
        37.02, 40.65, 39.98, 40.8, 38.83, 39.3, 39.7, 39.65, 39.05, 38.42, 39.37, 38.9, 37.75, 39.22, 39.65, 38.82, 38.4, 
        39.38, 38.43, 39.25, 39.1, 38.85, 38.82, 37.13, 37.35, 40.45, 38.87, 37.98, 38.75, 37.63, 37.67, 38.75, 39.77, 39.75, 
        39.63, 40.23, 37.28, 38.48, 39.67, 39.75, 39.22, 40.38, 39.63, 37.03, 38.38, 38.55, 38.68, 40.58, 37.23, 40.08, 40.22, 
        39.95, 39.17, 39.7, 39.52, 39.12, 39.07, 40.27, 40.25, 39.45, 39.47, 37.72, 40.42, 40.42, 39.88, 40.62, 40.87, 38.53, 
        40.48, 37.77, 40.97, 38.05, 40.58, 40.05, 39.75, 37.13, 39.65, 38.07, 39.77, 41, 39.5, 40.85, 38.77, 40.07, 38.05, 
        37.72, 38.05, 38.92, 38.82, 39.75, 38.08, 38.07, 39.25, 39.23, 37.38, 40.48, 39.2, 39.27, 39.18, 40, 39.62, 38.93, 
        40.17, 40.28, 37.17, 40.02, 40.03, 40.52, 40.03, 40.03, 40.13, 39.37, 37.2, 37.57, 39.08, 39.65, 39.98, 37.82, 39.9, 
        37.22, 38.13, 40.7, 38.22, 38.52, 38.02, 37.27, 39.1, 37.45, 39.12, 38.87, 38.85, 38.37, 38.38, 39.52, 38.6, 38.28, 
        38.27, 38.18, 40.08, 40.8, 39.2, 37.72, 37.68, 38.15, 39.52, 37.72, 38.03, 38.87, 38.85, 37.92, 38.08, 38.53, 38.53, 
        38.47, 40.93, 40.85, 39.55, 37.8, 40.48, 37.38, 37.28, 37.22, 40.5, 40.62, 39.3, 39.43, 39.25, 40.5, 38.42, 38.82, 
        37.95, 37.67, 37.17, 37.25, 39.08, 37.55, 38.37, 37.37, 37.8, 40.73, 37.62, 37.4, 40.42, 38.13, 38.17, 40.03, 40.3, 
        37.48, 37.48, 40.07, 40.15, 37.55, 40.12, 40.399, 40.414, 40.432, 39.937, 39.916, 39.646, 39.804, 37.214, 36.699, 
        37, 41.167, 41.367, 41.333, 41.333, 41, 41.467, 40.534, 40.395, 40.347, 40.08, 40.848, 40.537, 39.361, 39.075, 39.298, 
        39.38, 39.718, 39.489, 39.317, 39.617, 39.088, 38.82, 38.489, 38.894, 37.486, 37.019, 37.379, 36.956, 36.512, 36.716, 
        41.117, 41.05, 41.3, 40.167, 39.875, 39.046, 39.129, 39.765, 37.651, 37.749, 37.847, 37.62, 37.934, 37.799, 37.992, 
        37.485, 37.714, 37.892, 39.058, 38.418, 37.892, 38.483, 37.8, 39.8, 39.35, 39.4, 39.38, 37, 39.37, 37.17, 37.57, 
        37.93, 38.48, 39.78, 37.33, 38.9, 39.77, 38.9, 37.98, 38.47, 37.58, 39.07, 40.05, 41.07, 41.42, 40.42, 40.02, 40.52, 
        40.52, 41.25, 41.22, 41.15, 40.85, 41.13, 41.4, 41.13, 41.13, 40.18, 40.83, 36.83, 36.67, 36.78, 36.73, 36.92, 36.67, 
        36.77, 36.93, 36.57, 36.6, 36.62, 36.75, 36.72, 36.7, 36.87, 36.73, 36.7, 36.6, 36.98, 36.55, 36.82, 36.9, 36.92, 
        36.88, 36.87, 36.75, 36.7, 36.77, 36.72, 36.65, 36.88, 36.73, 36.6, 36.68, 36.87, 36.9, 40.85, 37.22, 37.62, 40.02, 
        38.6, 38.65, 37.72, 38.97, 38.8, 40.93, 37.38, 40.37, 38.32, 38.3, 37.87, 41.42, 41.15, 41.03, 41.05, 41.3, 41.15, 
        41.18, 41.03, 41.18, 41.08, 41.45, 41.3, 41.32, 41.32, 41.35, 41.18, 41.17, 41.45), .Dim = c(376L, 2L), .Dimnames = list(c("347", 
        "1011", "1012", "1013", "1014", "1015", "1017", "1018", "1019", "1020", "1021", "1022", "1023", "1024", "1025", "1027", 
        "1028", "1029", "1030", "1032", "1033", "1034", "1035", "1036", "1038", "1039", "1040", "1041", "1042", "1043", "1044", 
        "1045", "1046", "1047", "1048", "1049", "1050", "1051", "1052", "1053", "1054", "1055", "1056", "1057", "1058", "1059", 
        "1060", "1061", "1062", "1063", "1064", "1065", "1066", "1067", "1068", "1069", "1070", "1071", "1072", "1074", "1075", 
        "1076", "1077", "1078", "1079", "1080", "1081", "1082", "1085", "1086", "1087", "1088", "1089", "1090", "1091", "1092", 
        "1093", "1094", "1095", "1096", "1097", "1098", "1099", "1100", "1101", "1102", "1103", "1104", "1105", "1107", "1109", 
        "1111", "1112", "1113", "1114", "1116", "1117", "1120", "1121", "1122", "1123", "1124", "1125", "1126", "1127", "1128", 
        "1129", "1130", "1131", "1132", "1133", "1134", "1135", "1136", "1137", "1138", "1139", "1140", "1141", "1142", "1143", 
        "1144", "1146", "1147", "1148", "1149", "1150", "1151", "1152", "1154", "1156", "1157", "1160", "1161", "1162", "1163", 
        "1164", "1165", "1166", "1167", "1168", "1169", "1170", "1171", "1172", "1173", "1174", "1175", "1176", "1178", "1180", 
        "1181", "1182", "1184", "1185", "1186", "1187", "1188", "1189", "1190", "1191", "1192", "1193", "1194", "1195", "1196", 
        "1197", "1198", "1202", "1203", "1204", "1205", "1207", "1208", "1209", "1210", "1211", "1212", "1213", "1214", "1215", 
        "1216", "1217", "1218", "1219", "1220", "1221", "1222", "1223", "1224", "1225", "1226", "1228", "1229", "1230", "1231", 
        "1232", "1233", "1234", "1235", "1237", "1238", "1239", "1240", "1241", "1242", "1243", "1244", "1246", "1247", "1249", 
        "1250", "1251", "1252", "1253", "1254", "1255", "1256", "1293", "1295", "1296", "1297", "1298", "1299", "1300", "1301", 
        "1302", "1303", "1305", "1306", "1307", "1308", "1309", "1310", "1311", "1312", "1313", "1314", "1315", "1316", "1317", 
        "1318", "1319", "1321", "1322", "1323", "1324", "1325", "1344", "1345", "1346", "1347", "1350", "1351", "1352", "1354", 
        "1356", "1358", "1359", "1360", "1361", "1362", "1363", "1364", "1365", "1366", "1527", "1528", "1530", "1674", "1675", 
        "2476", "2482", "2495", "2496", "2508", "2526", "2541", "2553", "2559", "2563", "2572", "2602", "2605", "2607", "2612", 
        "2616", "2621", "2624", "2635", "4195", "4196", "4222", "4227", "4243", "4258", "4259", "4262", "4263", "4270", "4274", 
        "4301", "4305", "4318", "4319", "4328", "4334", "4619", "4629", "4637", "4642", "4644", "4667", "4670", "4672", "4674", 
        "4678", "4681", "4688", "4689", "4690", "4694", "4700", "4710", "4716", "4737", "4755", "4768", "4791", "4792", "4793", 
        "4794", "4795", "4796", "4824", "4835", "4839", "4848", "5557", "5597", "5602", "5612", "5620", "6991", "6997", "7011", 
        "7014", "7029", "7030", "7036", "7039", "7052", "7072", "7096", "7099", "7108", "7109", "7134", "7928", "7934", "7936", 
        "7955", "7958", "7959", "7960", "7980", "7991", "7999", "8014", "8033", "8034", "8035", "8036", "8069", "8070", "8091"), 
        c("lon", "lat")))
    ny <- 64
    nx <- 64
    na.rm <- FALSE
    grid <- NULL
    FUN <- NULL
    fields:::as.image(Z = z, grid = grid, x = x, na.rm = na.rm, nx = nx, ny = ny, FUN = FUN)
}




