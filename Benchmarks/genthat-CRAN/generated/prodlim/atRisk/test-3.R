library(prodlim)

function_to_run <- function() {
    prodlim:::atRisk(x = structure(list(time = c(3.80593717359634, 5.4465893651155, 6.65496379630547, 7.2501236748846, 7.50085241757985,
        14.9436554156758, 0.595491010255675, 0.750618904075463, 1.2627816917473, 1.29455067952448, 1.8949948933335, 2.58143830570872,
        2.58517892604418, 2.80143736152228, 3.04397633011161, 3.69882683846148, 5.43372275632054, 5.47253329130713, 5.89288743599613,
        6.40601502930119), n.risk = structure(c(6, 5, 4, 3, 2, 1, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 4, 4, 4,
        3, 2, 1, 5, 5, 5, 5, 5, 5, 5, 4, 3, 2, 2, 2, 2, 1), .Dim = c(20L, 2L), .Dimnames = list(NULL, c("n.risk", "cluster.n.risk"))),
        n.event = structure(c(0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1,
            1, 1, 1, 0, 0, 1, 0, 1, 0), .Dim = c(20L, 2L), .Dimnames = list(NULL, c("n.event", "cluster.n.event"))), n.lost = structure(c(1,
            1, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,
            0, 0), .Dim = c(20L, 2L), .Dimnames = list(NULL, c("n.lost", "cluster.n.lost"))), surv = c(1, 1, 1, 0.666666666666667,
            0.666666666666667, 0.666666666666667, 0.928571428571429, 0.857142857142857, 0.785714285714286, 0.714285714285714,
            0.642857142857143, 0.571428571428571, 0.5, 0.428571428571429, 0.428571428571429, 0.428571428571429, 0.321428571428571,
            0.321428571428571, 0.160714285714286, 0.160714285714286), se.surv = c(0, 0, 0, 0.181443684650606, 0.181443684650606,
            0.181443684650606, 0.0659872622461347, 0.085548760345077, 0.132430740482009, 0.142094140650788, 0.103332152296987,
            0.0685603669819636, 0.0794152871344019, 0.125199757409319, 0.125199757409319, 0.125199757409319, 0.0843860399873504,
            0.0843860399873504, 0.0767977826869821, 0.0767977826869821), naive.se.surv = c(0, 0, 0, 0.272165526975909, 0.272165526975909,
            0.272165526975909, 0.0688302936899594, 0.0935219529582824, 0.109664210511248, 0.120736322104074, 0.128060208142971,
            0.132260014253222, 0.133630620956212, 0.132260014253222, 0.132260014253222, 0.132260014253222, 0.135828362367083,
            0.135828362367083, 0.132389111418415, 0.132389111418415), hazard = c(0, 0, 0, 0.333333333333333, 0, 0, 0.0714285714285714,
            0.0769230769230769, 0.0833333333333333, 0.0909090909090909, 0.1, 0.111111111111111, 0.125, 0.142857142857143,
            0, 0, 0.25, 0, 0.5, 0), first.strata = c(1L, 7L), size.strata = c(6L, 14L), model = "survival", maxtime = 14.9436554156758,
        lower = c(0, 0, 0, 0.311043579529236, 0.311043579529236, 0.311043579529236, 0.799238771130605, 0.689470367944458,
            0.526154803923579, 0.435786316196001, 0.440329845910041, 0.437052721377074, 0.344348897394665, 0.183184413176011,
            0.183184413176011, 0.183184413176011, 0.156034972255408, 0.156034972255408, 0.0101933975552671, 0.0101933975552671),
        upper = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 0.992785112375428, 0.845384439804245, 0.705804421480069, 0.655651102605335,
            0.673958443966846, 0.673958443966846, 0.673958443966846, 0.486822170601735, 0.486822170601735, 0.311235173873304,
            0.311235173873304), call = prodlim(formula = Hist(time, status) ~ X1 + cluster(patnr), data = cdat), formula = Hist(time,
            status) ~ X1 + cluster(patnr), model.response = structure(c(0.595491010255675, 0.750618904075463, 1.2627816917473,
            1.29455067952448, 1.8949948933335, 2.58143830570872, 2.58517892604418, 2.80143736152228, 3.04397633011161, 3.69882683846148,
            3.80593717359634, 5.43372275632054, 5.4465893651155, 5.47253329130713, 5.89288743599613, 6.40601502930119, 6.65496379630547,
            7.2501236748846, 7.50085241757985, 14.9436554156758, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0,
            0), .Dim = c(20L, 2L), .Dimnames = list(c("8", "15", "16", "10", "17", "6", "4", "14", "5", "1", "7", "2", "13",
            "9", "12", "3", "19", "20", "11", "18"), c("time", "status")), class = "Hist", states = "1", model = "survival",
            cens.type = "rightCensored", cens.code = "0", entry.type = ""), originalDataOrder = c(10L, 12L, 16L, 7L, 9L,
            6L, 11L, 1L, 14L, 4L, 19L, 15L, 13L, 8L, 2L, 3L, 5L, 20L, 17L, 18L), X = structure(list(X1 = c(0, 1)), class = "data.frame",
            row.names = 1:2), model.matrix = structure(list(X1 = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 0,
            0, 0)), row.names = c(8L, 15L, 16L, 10L, 17L, 6L, 4L, 14L, 5L, 1L, 7L, 2L, 13L, 9L, 12L, 3L, 19L, 20L, 11L, 18L),
            class = "data.frame"), discrete.predictors = "X1", continuous.predictors = NULL, xlevels = list(X1 = c(1, 0)),
        clustervar = "patnr", covariate.type = 2, cens.type = "rightCensored", conf.int = 0.95, reverse = FALSE, type = "surv",
        na.action = NULL), class = "prodlim"), newdata = structure(list(X1 = c(0, 1)), class = "data.frame", row.names = 1:2),
        times = c(0, 1.49436554156758, 2.98873108313515, 4.48309662470273, 5.97746216627031, 7.47182770783788, 8.96619324940546,
            10.460558790973, 11.9549243325406, 13.4492898741082, 14.9436554156758), col = c("#000000", "#E69F00"), labelcol = 1,
        interspace = 1, labels = c("Subjects: ", "Clusters: ", "Subjects: ", "Clusters: "), title = "", titlecol = 1, dist = 0.3,
        show.censored = FALSE)
}




