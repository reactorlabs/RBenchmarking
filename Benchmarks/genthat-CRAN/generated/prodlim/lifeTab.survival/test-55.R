library(prodlim)

function_to_run <- function() {
    cdat <- structure(list(eventtime = c(6.40378481760302, 2.03056621964271, 7.05400117296618, 22.005563516394, 6.05129235212108,
        2.97023874204961, 5.69669318381478, 9.111081118181, 5.52729359370247, 11.0200806729091, 6.43753653096571, 19.3000874604679,
        8.60026217834372, 0.503045819394408, 6.99807502339784, 4.018534968037, 10.7432207683972, 14.4116917874521, 5.18443542840935,
        32.6845803995269, 5.80435437841308, 9.84218624825558, 22.2860960914536, 9.36835720332307, 4.5915539794797, 5.16550052364115,
        3.12900517676916, 7.12401682639939, 3.34228582929207, 25.8333216734555), censtime = c(16.4121990699062, 7.59772338836058,
        16.275749062707, 12.4661194382435, 7.73645523725015, 8.54312386978342, 13.5495401187348, 13.7837971204485, 8.33428148215314,
        2.47537169145765, 10.4686289988682, 12.9190004140115, 11.4472051801085, 7.95911638350434, 19.6010713479911, 4.74019376029571,
        14.846660157825, 7.8521319016009, 7.4830242910701, 6.92624202348295, 5.79376718296894, 14.4676541829365, 10.8064926487852,
        2.36195839436264, 8.32524472334937, 14.14487382712, 3.74320065258808, 12.5877055848563, 2.79127087264455, 3.46681593924481),
        time = c(6.40378481760302, 2.03056621964271, 7.05400117296618, 12.4661194382435, 6.05129235212108, 2.97023874204961,
            5.69669318381478, 9.111081118181, 5.52729359370247, 2.47537169145765, 6.43753653096571, 12.9190004140115, 8.60026217834372,
            0.503045819394408, 6.99807502339784, 4.018534968037, 10.7432207683972, 7.8521319016009, 5.18443542840935, 6.92624202348295,
            5.79376718296894, 9.84218624825558, 10.8064926487852, 2.36195839436264, 4.5915539794797, 5.16550052364115, 3.12900517676916,
            7.12401682639939, 2.79127087264455, 3.46681593924481), event = c(1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1,
            1, 1, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 0, 0), X1 = c(1, 1, 0, 0, 0, 1, 1, 0, 1, 1, 0, 0, 1, 1, 0, 1, 0, 0, 0,
            0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0), X2 = c(0.580996497681682, 0.768178737834591, 0.463767588540167, -0.885776297409679,
            -1.09978089864786, 1.51270700980493, 0.257921437532031, 0.0884402291595864, -0.120896537539089, -1.19432889516053,
            0.611996898040387, -0.217139845746521, -0.182756706331922, 0.93334632857116, 0.821773110508249, 1.39211637593427,
            -0.476173923054674, 0.650348560726305, 1.39111045639, -1.1107888794479, -0.860792586877842, -1.13173868085377,
            -1.4592139995024, 0.0799825532411612, 0.65320433964919, 1.20096537559849, 1.04475108716773, -1.00320864683985,
            1.84848190167275, -0.666773408757817), status = c(1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 0,
            0, 1, 0, 0, 1, 1, 1, 1, 0, 0), patnr = c(1L, 1L, 5L, 3L, 1L, 2L, 4L, 2L, 5L, 5L, 3L, 5L, 2L, 1L, 1L, 1L, 3L,
            4L, 2L, 2L, 2L, 2L, 4L, 4L, 5L, 1L, 3L, 5L, 4L, 2L)), class = "data.frame", row.names = c(NA, -30L))
    prodlim <- prodlim::prodlim
    x <- structure(list(time = c(0.503045819394408, 2.03056621964271, 2.36195839436264, 2.47537169145765, 2.79127087264455,
        2.97023874204961, 3.12900517676916, 3.46681593924481, 4.018534968037, 4.5915539794797, 5.16550052364115, 5.18443542840935,
        5.52729359370247, 5.69669318381478, 5.79376718296894, 6.05129235212108, 6.40378481760302, 6.43753653096571, 6.92624202348295,
        6.99807502339784, 7.05400117296618, 7.12401682639939, 7.8521319016009, 8.60026217834372, 9.111081118181, 9.84218624825558,
        10.7432207683972, 10.8064926487852, 12.4661194382435, 12.9190004140115), n.risk = structure(c(30, 29, 28, 27, 26,
        25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 5, 5, 5, 5, 5, 5, 5, 5,
        5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 4, 4, 4, 4, 4, 4, 3, 3, 2, 1), .Dim = c(30L, 2L), .Dimnames = list(NULL, c("n.risk",
        "cluster.n.risk"))), n.event = structure(c(1, 1, 0, 0, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1,
        1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 0, 0, 0), .Dim = c(30L,
        2L), .Dimnames = list(NULL, c("n.event", "cluster.n.event"))), n.lost = structure(c(0, 0, 1, 1, 1, 0, 0, 1, 0, 0,
        0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
        0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0), .Dim = c(30L, 2L), .Dimnames = list(NULL, c("n.lost", "cluster.n.lost"))), surv = c(0.966666666666667,
        0.933333333333333, 0.933333333333333, 0.933333333333333, 0.933333333333333, 0.896, 0.858666666666667, 0.858666666666667,
        0.819636363636364, 0.780606060606061, 0.741575757575758, 0.702545454545455, 0.663515151515152, 0.624484848484848,
        0.624484848484848, 0.582852525252525, 0.541220202020202, 0.499587878787879, 0.499587878787879, 0.454170798898072,
        0.408753719008264, 0.363336639118457, 0.363336639118457, 0.311431404958678, 0.259526170798898, 0.207620936639118,
        0.155715702479339, 0.155715702479339, 0.155715702479339, 0.155715702479339), se.surv = c(0.0278017180785777, 0.055569238299828,
        0.055569238299828, 0.055569238299828, 0.055569238299828, 0.0497111663735197, 0.0476601787077618, 0.0476601787077618,
        0.0730299425318331, 0.060410904487889, 0.0890076078003483, 0.0775394758007382, 0.0725609414034993, 0.0567157443980018,
        0.0567157443980018, 0.0864897915475896, 0.116950437745969, 0.108742382215678, 0.108742382215678, 0.139707259206701,
        0.131112927183712, 0.13165630051602, 0.13165630051602, 0.105154251182882, 0.0898704874170862, 0.0900383009320205,
        0.0652906329775851, 0.0652906329775851, 0.0652906329775851, 0.0652906329775851), naive.se.surv = c(0.0327730693416725,
        0.0455420034042649, 0.0455420034042649, 0.0455420034042649, 0.0455420034042649, 0.0570043273211195, 0.0657270675399976,
        0.0657270675399976, 0.0734190864417721, 0.0796243734623011, 0.0846704387219422, 0.0887552211774098, 0.0920068428320323,
        0.094511336454249, 0.094511336454249, 0.0969474438084084, 0.0985571915435744, 0.0993807433574796, 0.0993807433574796,
        0.100187899545556, 0.099934520339967, 0.0986124311178448, 0.0986124311178448, 0.0972303446952822, 0.0938627985463847,
        0.0882828784938457, 0.0800291508274527, 0.0800291508274527, 0.0800291508274527, 0.0800291508274527), hazard = c(0.0333333333333333,
        0.0344827586206897, 0, 0, 0, 0.04, 0.0416666666666667, 0, 0.0454545454545455, 0.0476190476190476, 0.05, 0.0526315789473684,
        0.0555555555555556, 0.0588235294117647, 0, 0.0666666666666667, 0.0714285714285714, 0.0769230769230769, 0, 0.0909090909090909,
        0.1, 0.111111111111111, 0, 0.142857142857143, 0.166666666666667, 0.2, 0.25, 0, 0, 0), first.strata = 1L, size.strata = 30L,
        model = "survival", maxtime = 12.9190004140115, lower = c(0.912176300524318, 0.824419627617347, 0.824419627617347,
            0.824419627617347, 0.824419627617347, 0.798567904278423, 0.765254432902711, 0.765254432902711, 0.676500306480941,
            0.662202863536309, 0.567124051937009, 0.550570874595893, 0.521298319679972, 0.513324032108386, 0.513324032108386,
            0.413335648788873, 0.312001556061909, 0.286456726052061, 0.286456726052061, 0.180349602474135, 0.151777103820566,
            0.105295031769275, 0.105295031769275, 0.105332859818951, 0.083383252188349, 0.031149109583179, 0.0277484133154489,
            0.0277484133154489, 0.0277484133154489, 0.0277484133154489), upper = c(1, 1, 1, 1, 1, 0.993432095721577, 0.952078900430623,
            0.952078900430623, 0.962772420791786, 0.899009257675812, 0.916027463214507, 0.854520034495016, 0.805731983350331,
            0.735645664861311, 0.735645664861311, 0.752369401716177, 0.770438847978494, 0.712719031523696, 0.712719031523696,
            0.727991995322008, 0.665730334195963, 0.621378246467639, 0.621378246467639, 0.517529950098405, 0.435669089409447,
            0.384092763695058, 0.283682991643229, 0.283682991643229, 0.283682991643229, 0.283682991643229), call = prodlim(formula = Hist(time,
            status) ~ cluster(patnr), data = cdat), formula = Hist(time, status) ~ cluster(patnr), model.response = structure(c(0.503045819394408,
            2.03056621964271, 2.36195839436264, 2.47537169145765, 2.79127087264455, 2.97023874204961, 3.12900517676916, 3.46681593924481,
            4.018534968037, 4.5915539794797, 5.16550052364115, 5.18443542840935, 5.52729359370247, 5.69669318381478, 5.79376718296894,
            6.05129235212108, 6.40378481760302, 6.43753653096571, 6.92624202348295, 6.99807502339784, 7.05400117296618, 7.12401682639939,
            7.8521319016009, 8.60026217834372, 9.111081118181, 9.84218624825558, 10.7432207683972, 10.8064926487852, 12.4661194382435,
            12.9190004140115, 1, 1, 0, 0, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 0, 0, 0),
            .Dim = c(30L, 2L), .Dimnames = list(c("14", "2", "24", "10", "29", "6", "27", "30", "16", "25", "26", "19", "9",
                "7", "21", "5", "1", "11", "20", "15", "3", "28", "18", "13", "8", "22", "17", "23", "4", "12"), c("time",
                "status")), class = "Hist", states = "1", model = "survival", cens.type = "rightCensored", cens.code = "0",
            entry.type = ""), originalDataOrder = c(17L, 2L, 21L, 29L, 16L, 6L, 14L, 25L, 13L, 4L, 18L, 30L, 24L, 1L, 20L,
            9L, 27L, 23L, 12L, 19L, 15L, 26L, 28L, 3L, 10L, 11L, 7L, 22L, 5L, 8L), X = NULL, model.matrix = NULL, discrete.predictors = NULL,
        continuous.predictors = NULL, xlevels = NULL, clustervar = "patnr", covariate.type = 1, cens.type = "rightCensored",
        conf.int = 0.95, reverse = FALSE, type = "surv", na.action = NULL), class = "prodlim")
    stats <- list(c("surv", "1"), c("lower", "1"), c("upper", "1"))
    plot.times <- c(0, 0.503045819394408, 2.03056621964271, 2.36195839436264, 2.47537169145765, 2.79127087264455, 2.97023874204961,
        3.12900517676916, 3.46681593924481, 4.018534968037, 4.5915539794797, 5.16550052364115, 5.18443542840935, 5.52729359370247,
        5.69669318381478, 5.79376718296894, 6.05129235212108, 6.40378481760302, 6.43753653096571, 6.92624202348295, 6.99807502339784,
        7.05400117296618, 7.12401682639939, 7.8521319016009, 8.60026217834372, 9.111081118181, 9.84218624825558, 10.7432207683972,
        10.8064926487852, 12.4661194382435, 12.9190004140115)
    newdata <- NULL
    prodlim:::lifeTab.survival(object = x, times = plot.times, newdata = newdata, stats = stats, percent = FALSE)
}




