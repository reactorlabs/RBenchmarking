library(estimability)

function_to_run <- function() {
    lm <- stats::lm
    warpbreaks <- datasets::warpbreaks
    warp.lm1 <- structure(list(coefficients = structure(c(44.5555555555556, -6.93650793650793, -20.5555555555556, -18.8412698412698, 
        10.2222222222222, NA), names = c("(Intercept)", "woolB", "tensionM", "tensionH", "woolB:tensionM", "woolB:tensionH")), 
        residuals = structure(c(-18.5555555555556, -14.5555555555556, 9.44444444444449, -19.5555555555556, 25.4444444444445, 
            7.44444444444444, 6.44444444444444, -18.5555555555556, 22.4444444444444, -6, -3, 5, -7, -12, -6, 11, 6, 12, 10.2857142857143, 
            -4.71428571428572, -1.71428571428572, -7.71428571428572, -15.7142857142857, 17.2857142857143, 2.28571428571428, 
            -8.28571428571429, -11.2857142857143, 11.7142857142857, 0.714285714285711, -6.28571428571429, 11.7142857142857, 
            1.71428571428571, 1.22222222222222, 2.22222222222222, 5.22222222222223, -1.77777777777778, -5.77777777777777, 
            -3.77777777777777, -3.77777777777777, -2.77777777777778, 9.22222222222222), names = c("1", "2", "3", "4", "5", 
            "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", 
            "25", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "50", "51", "52", "53", "54")), effects = structure(c(-180.693042505117, 
            -29.2981977303025, -12.0163865087647, -46.9668959205826, 14.3430199826334, 12.5292523975704, 11.5292523975704, 
            -13.4707476024296, 27.5292523975704, -5.46453565949375, -2.46453565949375, 5.53546434050625, -6.46453565949375, 
            -11.4645356594937, -5.46453565949375, 11.5354643405063, 6.53546434050625, 12.5354643405063, 14.7990897413961, 
            -0.200910258603928, 2.79908974139607, -3.20091025860393, -11.2009102586039, 21.7990897413961, 6.79908974139607, 
            1.97056405496047, -1.02943594503953, 21.9705640549605, 10.9705640549605, 3.97056405496047, 21.9705640549605, 
            11.9705640549605, -6.30168408308091, -5.30168408308091, -2.30168408308091, -9.30168408308091, -13.3016840830809, 
            -11.3016840830809, -11.3016840830809, -10.3016840830809, 1.69831591691909), names = c("(Intercept)", "woolB", 
            "tensionM", "tensionH", "woolB:tensionM", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", 
            "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "")), rank = 5L, fitted.values = structure(c(44.5555555555556, 
            44.5555555555556, 44.5555555555555, 44.5555555555556, 44.5555555555555, 44.5555555555556, 44.5555555555556, 44.5555555555556, 
            44.5555555555556, 24, 24, 24, 24, 24, 24, 24, 24, 24, 25.7142857142857, 25.7142857142857, 25.7142857142857, 25.7142857142857, 
            25.7142857142857, 25.7142857142857, 25.7142857142857, 27.2857142857143, 27.2857142857143, 27.2857142857143, 27.2857142857143, 
            27.2857142857143, 27.2857142857143, 27.2857142857143, 18.7777777777778, 18.7777777777778, 18.7777777777778, 18.7777777777778, 
            18.7777777777778, 18.7777777777778, 18.7777777777778, 18.7777777777778, 18.7777777777778), names = c("1", "2", 
            "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", 
            "23", "24", "25", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "50", "51", "52", "53", "54")), 
        assign = c(0L, 1L, 2L, 2L, 3L, 3L), qr = structure(list(qr = structure(c(-6.40312423743285, 0.156173761888606, 0.156173761888606, 
            0.156173761888606, 0.156173761888606, 0.156173761888606, 0.156173761888606, 0.156173761888606, 0.156173761888606, 
            0.156173761888606, 0.156173761888606, 0.156173761888606, 0.156173761888606, 0.156173761888606, 0.156173761888606, 
            0.156173761888606, 0.156173761888606, 0.156173761888606, 0.156173761888606, 0.156173761888606, 0.156173761888606, 
            0.156173761888606, 0.156173761888606, 0.156173761888606, 0.156173761888606, 0.156173761888606, 0.156173761888606, 
            0.156173761888606, 0.156173761888606, 0.156173761888606, 0.156173761888606, 0.156173761888606, 0.156173761888606, 
            0.156173761888606, 0.156173761888606, 0.156173761888606, 0.156173761888606, 0.156173761888606, 0.156173761888606, 
            0.156173761888606, 0.156173761888606, -2.4987801902177, 3.12347523777212, 0.108062484748657, 0.108062484748657, 
            0.108062484748657, 0.108062484748657, 0.108062484748657, 0.108062484748657, 0.108062484748657, 0.108062484748657, 
            0.108062484748657, 0.108062484748657, 0.108062484748657, 0.108062484748657, 0.108062484748657, 0.108062484748657, 
            0.108062484748657, 0.108062484748657, 0.108062484748657, 0.108062484748657, 0.108062484748657, 0.108062484748657, 
            0.108062484748657, 0.108062484748657, 0.108062484748657, -0.212093727122985, -0.212093727122985, -0.212093727122985, 
            -0.212093727122985, -0.212093727122985, -0.212093727122985, -0.212093727122985, -0.212093727122985, -0.212093727122985, 
            -0.212093727122985, -0.212093727122985, -0.212093727122985, -0.212093727122985, -0.212093727122985, -0.212093727122985, 
            -0.212093727122985, -2.4987801902177, 0.24206933092734, 3.114080923804, 0.0902371241525405, 0.0902371241525405, 
            0.0902371241525405, 0.0902371241525405, 0.0902371241525405, 0.0902371241525405, -0.230884909753518, -0.230884909753518, 
            -0.230884909753518, -0.230884909753518, -0.230884909753518, -0.230884909753518, -0.230884909753518, -0.230884909753518, 
            -0.230884909753518, 0.0902371241525405, 0.0902371241525405, 0.0902371241525405, 0.0902371241525405, 0.0902371241525405, 
            0.0902371241525405, 0.0902371241525405, -0.17710797628693, -0.17710797628693, -0.17710797628693, -0.17710797628693, 
            -0.17710797628693, -0.17710797628693, -0.17710797628693, 0.144014057619129, 0.144014057619129, 0.144014057619129, 
            0.144014057619129, 0.144014057619129, 0.144014057619129, 0.144014057619129, 0.144014057619129, 0.144014057619129, 
            -2.4987801902177, 0.882381754670625, -2.07364553394837, 2.16275153439686, 0.172050441885414, 0.172050441885414, 
            0.172050441885414, 0.172050441885414, 0.172050441885414, -0.0805920817759023, -0.0805920817759023, -0.0805920817759023, 
            -0.0805920817759023, -0.0805920817759023, -0.0805920817759023, -0.0805920817759023, -0.0805920817759023, -0.0805920817759023, 
            -0.290323522065501, -0.290323522065501, -0.290323522065501, -0.290323522065501, -0.290323522065501, -0.290323522065501, 
            -0.290323522065501, 0.12469137634886, 0.12469137634886, 0.12469137634886, 0.12469137634886, 0.12469137634886, 
            0.12469137634886, 0.12469137634886, -0.0850400639407389, -0.0850400639407389, -0.0850400639407389, -0.0850400639407389, 
            -0.0850400639407389, -0.0850400639407389, -0.0850400639407389, -0.0850400639407389, -0.0850400639407389, -1.09321633322024, 
            1.3665204165253, 1.26441800850511, -0.608273869049117, 1.40312152004023, 7.912522249629e-17, 7.912522249629e-17, 
            7.912522249629e-17, 7.912522249629e-17, 0.155902391115581, 0.155902391115581, 0.155902391115581, 0.155902391115581, 
            0.155902391115581, 0.155902391115581, 0.155902391115581, 0.155902391115581, 0.155902391115581, -0.200445931434318, 
            -0.200445931434318, -0.200445931434318, -0.200445931434318, -0.200445931434318, -0.200445931434318, -0.200445931434318, 
            -0.200445931434318, -0.200445931434318, -0.200445931434318, -0.200445931434318, -0.200445931434318, -0.200445931434318, 
            -0.200445931434318, 0.155902391115581, 0.155902391115581, 0.155902391115581, 0.155902391115581, 0.155902391115581, 
            0.155902391115581, 0.155902391115581, 0.155902391115581, 0.155902391115581, -1.40556385699745, 1.75695482124682, 
            -1.26441800850511, 0.608273869049116, -1.40312152004023, 1.21174625627679e-15, 0.251959789593257, 0.251959789593257, 
            0.251959789593257, 0.251959789593257, 0.251959789593257, 0.251959789593257, 0.251959789593257, 0.251959789593257, 
            0.251959789593257, 0.251959789593257, 0.251959789593257, 0.251959789593257, -0, -0, -0, -0, -0, -0, -0, -0.137432612505413, 
            -0.137432612505413, -0.137432612505413, -0.137432612505413, -0.137432612505413, -0.137432612505413, -0.137432612505413, 
            -0.0687163062527064, -0.0687163062527064, -0.0687163062527064, -0.0687163062527064, -0.0687163062527064, -0.0687163062527064, 
            -0.0687163062527064, -0.0687163062527064, -0.0687163062527064), .Dim = c(41L, 6L), .Dimnames = list(c("1", "2", 
            "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", 
            "23", "24", "25", "39", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "50", "51", "52", "53", "54"), 
            c("(Intercept)", "woolB", "tensionM", "tensionH", "woolB:tensionM", "woolB:tensionH")), assign = c(0L, 1L, 2L, 
            2L, 3L, 3L), contrasts = list(wool = "contr.treatment", tension = "contr.treatment")), qraux = c(1.15617376188861, 
            1.10806248474866, 1.09023712415254, 1.17205044188541, 1, 1.25195978959326), pivot = 1:6, tol = 1e-07, rank = 5L), 
            class = "qr"), df.residual = 36L, contrasts = list(wool = "contr.treatment", tension = "contr.treatment"), xlevels = list(wool = c("A", 
            "B"), tension = c("L", "M", "H")), call = lm(formula = breaks ~ wool * tension, data = warpbreaks, subset = -(26:38), 
            contrasts = list(wool = "contr.treatment", tension = "contr.treatment")), terms = breaks ~ wool * tension, model = structure(list(breaks = c(26, 
            30, 54, 25, 70, 52, 51, 26, 67, 18, 21, 29, 17, 12, 18, 35, 30, 36, 36, 21, 24, 18, 10, 43, 28, 19, 16, 39, 28, 
            21, 39, 29, 20, 21, 24, 17, 13, 15, 15, 16, 28), wool = structure(c(1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
            1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
            2L, 2L), .Label = c("A", "B"), class = "factor"), tension = structure(c(1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 
            2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L, 3L, 
            3L, 3L, 3L), .Label = c("L", "M", "H"), class = "factor")), terms = breaks ~ wool * tension, row.names = c(1L, 
            2L, 3L, 4L, 5L, 6L, 7L, 8L, 9L, 10L, 11L, 12L, 13L, 14L, 15L, 16L, 17L, 18L, 19L, 20L, 21L, 22L, 23L, 24L, 25L, 
            39L, 40L, 41L, 42L, 43L, 44L, 45L, 46L, 47L, 48L, 49L, 50L, 51L, 52L, 53L, 54L), class = "data.frame")), class = "lm")
    estimability:::nonest.basis.lm(x = warp.lm1)
}




